[DEBUG][2017-11-25 14:38:49,803] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 14:38:49,829] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 14:38:51,337] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 14:38:51,775] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 14:38:51,779] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 14:38:52,035] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 14:38:52,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:38:52,057] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:38:52,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:38:52,221] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:38:52,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:38:52,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:38:52,222] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 14:38:52,225] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 14:45:16,752] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 14:45:16,763] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 14:45:17,497] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 14:45:17,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 14:45:17,692] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 14:45:17,899] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 14:45:17,913] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:45:17,914] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:45:17,921] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:45:17,922] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:45:17,922] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:45:17,923] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:45:17,923] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 14:45:17,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 14:50:45,267] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 14:50:45,277] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 14:50:45,873] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 14:50:46,068] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 14:50:46,072] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 14:50:46,252] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 14:50:46,255] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:50:46,256] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:50:46,265] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:50:46,266] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 14:50:46,267] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:50:46,267] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 14:50:46,268] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 14:50:46,270] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 15:03:24,501] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:87)
	cancel webservice:http://10.132.21.29:8080/XMLOperation/services/XMLOperation;batchId=73DA99C3-2A65-4B25-AA1E-84949F3FBCF8
[DEBUG][2017-11-25 15:03:26,769] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:94)
	update success:true
[DEBUG][2017-11-25 15:11:20,591] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-25 15:23:29,198] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-25 16:11:58,206] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 16:11:58,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 16:11:58,708] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 16:11:58,884] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 16:11:58,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 16:11:59,037] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 16:11:59,040] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:11:59,041] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:11:59,051] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:11:59,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:11:59,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:11:59,053] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:11:59,053] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 16:11:59,055] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 16:15:56,130] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 16:15:56,143] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 16:15:56,626] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 16:15:56,794] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 16:15:56,798] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 16:15:56,946] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 16:15:56,949] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:15:56,950] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:15:56,960] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:15:56,961] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:15:56,961] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:15:56,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:15:56,962] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 16:15:56,964] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 16:27:57,747] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 16:27:57,757] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 16:27:58,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 16:27:58,475] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 16:27:58,478] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 16:27:58,701] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 16:27:58,703] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:27:58,704] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:27:58,710] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:27:58,711] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:27:58,715] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:27:58,716] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:27:58,716] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 16:27:58,718] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-25 16:35:57,199] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 16:35:57,209] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-25 16:35:57,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-25 16:35:57,987] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-25 16:35:57,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-25 16:35:58,176] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-25 16:35:58,179] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:35:58,179] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:35:58,185] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:35:58,186] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-25 16:35:58,187] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:35:58,187] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-25 16:35:58,187] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-25 16:35:58,189] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-25 22:38:15,734] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	weblogic.common.resourcepool.ResourceDisabledException: Pool licDataSource is Suspended, cannot allocate resources to applications..
[ERROR][2017-11-25 22:38:16,030] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	Cannot obtain connection: driverURL = jdbc:weblogic:pool:licDataSource, props = {EmulateTwoPhaseCommit=false, connectionPoolID=licDataSource, jdbcTxDataSource=true, LoggingLastResource=false, dataSourceName=licDataSource}
[DEBUG][2017-11-25 23:12:14,004] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-25 23:12:16,916] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[ERROR][2017-11-25 23:12:17,547] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	weblogic.common.resourcepool.ResourceDisabledException: Pool licDataSource is Suspended, cannot allocate resources to applications..
[ERROR][2017-11-25 23:12:17,655] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	Cannot obtain connection: driverURL = jdbc:weblogic:pool:licDataSource, props = {EmulateTwoPhaseCommit=false, connectionPoolID=licDataSource, jdbcTxDataSource=true, LoggingLastResource=false, dataSourceName=licDataSource}
[ERROR][2017-11-25 23:12:17,673] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	weblogic.common.resourcepool.ResourceDisabledException: Pool licDataSource is Suspended, cannot allocate resources to applications..
[ERROR][2017-11-25 23:12:17,674] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	Cannot obtain connection: driverURL = jdbc:weblogic:pool:licDataSource, props = {EmulateTwoPhaseCommit=false, connectionPoolID=licDataSource, jdbcTxDataSource=true, LoggingLastResource=false, dataSourceName=licDataSource}
[ERROR][2017-11-25 23:12:17,730] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	weblogic.common.resourcepool.ResourceDisabledException: Pool licDataSource is Suspended, cannot allocate resources to applications..
[ERROR][2017-11-25 23:12:17,731] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	Cannot obtain connection: driverURL = jdbc:weblogic:pool:licDataSource, props = {EmulateTwoPhaseCommit=false, connectionPoolID=licDataSource, jdbcTxDataSource=true, LoggingLastResource=false, dataSourceName=licDataSource}
[ERROR][2017-11-25 23:12:17,731] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	weblogic.common.resourcepool.ResourceDisabledException: Pool licDataSource is Suspended, cannot allocate resources to applications..
[ERROR][2017-11-25 23:12:17,732] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	Cannot obtain connection: driverURL = jdbc:weblogic:pool:licDataSource, props = {EmulateTwoPhaseCommit=false, connectionPoolID=licDataSource, jdbcTxDataSource=true, LoggingLastResource=false, dataSourceName=licDataSource}
[DEBUG][2017-11-26 12:50:40,854] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 12:50:40,864] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 12:50:42,157] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 12:50:42,374] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 12:50:42,446] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 12:50:42,692] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 12:50:42,723] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 12:50:42,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 12:50:42,766] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 12:50:42,767] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 12:50:42,767] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 12:50:42,768] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 12:50:42,769] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 12:50:42,867] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 14:18:27,862] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:18:27,874] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:18:28,947] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:18:29,182] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:18:29,185] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:18:29,456] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:18:29,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:18:29,460] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:18:29,470] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:18:29,470] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:18:29,471] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:18:29,471] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:18:29,471] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:18:29,474] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 14:19:07,519] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:19:07,527] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:19:08,082] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:19:08,270] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:19:08,275] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:19:08,428] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:19:08,437] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:19:08,438] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:19:08,446] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:19:08,447] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:19:08,448] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:19:08,449] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:19:08,449] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:19:08,451] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 14:50:48,651] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:50:48,663] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:50:49,205] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:50:49,394] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:50:49,397] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:50:49,557] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:50:49,560] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:50:49,561] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:50:49,571] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:50:49,573] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:50:49,574] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:50:49,575] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:50:49,576] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:50:49,580] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 14:52:02,789] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-26 14:52:14,264] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:52:14,276] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:52:14,813] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:52:14,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:52:14,981] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:52:15,131] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:52:15,135] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:52:15,136] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:52:15,147] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:52:15,148] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:52:15,148] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:52:15,149] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:52:15,150] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:52:15,153] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 14:57:31,810] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:57:31,821] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:57:32,647] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:57:32,974] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:57:32,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:57:33,132] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:57:33,136] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:57:33,137] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:57:33,147] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:57:33,147] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:57:33,148] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:57:33,148] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:57:33,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:57:33,151] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 14:58:39,544] org.hibernate.hql.ast.ErrorCounter.reportError(ErrorCounter.java:56)
	line 1:89: unexpected token: %
[ERROR][2017-11-26 14:58:39,557] org.hibernate.hql.ast.ErrorCounter.reportError(ErrorCounter.java:56)
	line 1:92: unexpected token: )
[DEBUG][2017-11-26 14:59:41,159] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 14:59:41,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 14:59:41,756] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 14:59:41,927] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 14:59:41,930] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 14:59:42,080] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 14:59:42,084] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:59:42,085] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:59:42,098] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:59:42,099] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 14:59:42,100] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:59:42,100] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 14:59:42,101] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 14:59:42,104] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 15:01:35,714] org.hibernate.hql.ast.ErrorCounter.reportError(ErrorCounter.java:56)
	line 1:88: unexpected token: %
[ERROR][2017-11-26 15:01:35,719] org.hibernate.hql.ast.ErrorCounter.reportError(ErrorCounter.java:56)
	line 1:91: unexpected token: null
[DEBUG][2017-11-26 15:02:31,612] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 15:02:31,621] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 15:02:32,181] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 15:02:32,356] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 15:02:32,361] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 15:02:32,521] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 15:02:32,525] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:02:32,542] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:02:32,552] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:02:32,553] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:02:32,553] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:02:32,554] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:02:32,554] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 15:02:32,558] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 15:08:34,137] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 15:08:34,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 15:08:38,351] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 15:08:38,545] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 15:08:38,549] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 15:08:38,745] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 15:08:38,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:08:38,749] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:08:38,758] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:08:38,758] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:08:38,759] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:08:38,759] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:08:38,759] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 15:08:38,762] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 15:43:14,960] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.hibernate.cfg.Configuration]: Constructor threw exception; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.hibernate.cfg.Configuration]: Constructor threw exception; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newConfiguration(LocalSessionFactoryBean.java:821)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:552)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 31 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.hibernate.cfg.annotations.reflection.JPAMetadataProvider.<init>(JPAMetadataProvider.java:59)
	at org.hibernate.cfg.Configuration.createReflectionManager(Configuration.java:2984)
	at org.hibernate.cfg.Configuration.reset(Configuration.java:307)
	at org.hibernate.cfg.Configuration.<init>(Configuration.java:298)
	at org.hibernate.cfg.Configuration.<init>(Configuration.java:302)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newConfiguration(LocalSessionFactoryBean.java:821)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:552)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
[ERROR][2017-11-26 15:43:38,015] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxy(JavassistLazyInitializer.java:106)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.Grade
java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.make(ProxyFactory.java:532)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:335)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxy(JavassistLazyInitializer.java:99)
	at org.hibernate.proxy.pojo.javassist.SerializableProxy.readResolve(SerializableProxy.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at java.io.ObjectStreamClass.invokeReadResolve(ObjectStreamClass.java:1061)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1762)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329)
	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1947)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1871)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1753)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329)
	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351)
	at java.util.HashMap.readObject(HashMap.java:1029)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:974)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1849)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1753)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329)
	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1947)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1871)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1753)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329)
	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1947)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1871)
[DEBUG][2017-11-26 15:45:15,537] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 15:45:15,549] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 15:45:16,650] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 15:45:16,988] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 15:45:16,991] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 15:45:17,170] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 15:45:17,185] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:45:17,191] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:45:17,216] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:45:17,217] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:45:17,217] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:45:17,224] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:45:17,225] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 15:45:17,227] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 15:51:06,254] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-26 15:51:16,388] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 15:51:16,400] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 15:51:16,912] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 15:51:17,076] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 15:51:17,079] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 15:51:17,227] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 15:51:17,230] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:51:17,231] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:51:17,243] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:51:17,243] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:51:17,244] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:51:17,244] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:51:17,245] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 15:51:17,247] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-26 15:56:44,204] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-26 15:56:54,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 15:56:54,230] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 15:56:54,751] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 15:56:54,933] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 15:56:54,937] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 15:56:55,084] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 15:56:55,086] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:56:55,087] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:56:55,094] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:56:55,095] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 15:56:55,095] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:56:55,096] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 15:56:55,096] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 15:56:55,098] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 16:59:48,629] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 16:59:48,642] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 16:59:49,201] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 16:59:49,422] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 16:59:49,426] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 16:59:49,599] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 16:59:49,612] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 16:59:49,613] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 16:59:49,621] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 16:59:49,621] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 16:59:49,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 16:59:49,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 16:59:49,622] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 16:59:49,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 17:03:48,100] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 17:03:48,115] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 17:03:48,642] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 17:03:48,812] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 17:03:48,816] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 17:03:48,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 17:03:48,967] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 17:03:48,968] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 17:03:48,983] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 17:03:48,984] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 17:03:48,984] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 17:03:48,984] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 17:03:48,985] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 17:03:48,987] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 23:09:59,295] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:09:59,307] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 23:09:59,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 23:10:00,149] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 23:10:00,152] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 23:10:00,305] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 23:10:00,313] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:10:00,314] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:10:00,326] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:10:00,326] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:10:00,327] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:10:00,327] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:10:00,328] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 23:10:00,330] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 23:13:58,646] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:13:58,659] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 23:13:59,723] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 23:13:59,897] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 23:13:59,902] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 23:14:00,067] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 23:14:00,070] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:14:00,070] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:14:00,080] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:14:00,081] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:14:00,081] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:14:00,081] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:14:00,082] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 23:14:00,084] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 23:25:58,034] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:25:58,047] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 23:25:58,596] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 23:25:58,763] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 23:25:58,768] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 23:25:58,931] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 23:25:58,934] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:25:58,935] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:25:58,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:25:58,945] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:25:58,946] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:25:58,946] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:25:58,947] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 23:25:58,949] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 23:29:57,981] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:29:57,994] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 23:29:58,542] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 23:29:58,719] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 23:29:58,722] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 23:29:58,871] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 23:29:58,874] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:29:58,875] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:29:58,884] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:29:58,885] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:29:58,886] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:29:58,886] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:29:58,886] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 23:29:58,889] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-26 23:33:58,313] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:33:58,325] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[ERROR][2017-11-26 23:38:03,536] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:324)
	Context initialization failed
java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.createBeanFactory(AbstractRefreshableApplicationContext.java:194)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:127)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
[ERROR][2017-11-26 23:42:02,047] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:324)
	Context initialization failed
java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.core.convert.support.DefaultConversionService.addScalarConverters(DefaultConversionService.java:78)
	at org.springframework.core.convert.support.DefaultConversionService.addDefaultConverters(DefaultConversionService.java:54)
	at org.springframework.core.convert.support.DefaultConversionService.<init>(DefaultConversionService.java:43)
	at org.springframework.core.env.AbstractPropertyResolver.<init>(AbstractPropertyResolver.java:44)
	at org.springframework.core.env.PropertySourcesPropertyResolver.<init>(PropertySourcesPropertyResolver.java:42)
	at org.springframework.core.env.AbstractEnvironment.<init>(AbstractEnvironment.java:98)
	at org.springframework.core.env.StandardEnvironment.<init>(StandardEnvironment.java:54)
	at org.springframework.web.context.support.StandardServletEnvironment.<init>(StandardServletEnvironment.java:44)
	at org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.createEnvironment(AbstractRefreshableWebApplicationContext.java:156)
	at org.springframework.context.support.AbstractApplicationContext.getEnvironment(AbstractApplicationContext.java:288)
	at org.springframework.context.support.AbstractRefreshableConfigApplicationContext.resolvePath(AbstractRefreshableConfigApplicationContext.java:122)
	at org.springframework.context.support.AbstractRefreshableConfigApplicationContext.setConfigLocations(AbstractRefreshableConfigApplicationContext.java:80)
	at org.springframework.context.support.AbstractRefreshableConfigApplicationContext.setConfigLocation(AbstractRefreshableConfigApplicationContext.java:68)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:386)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
[ERROR][2017-11-26 23:43:32,257] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Dispatcher initialization failed
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:301)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerBuilder$5.create(ContainerBuilder.java:207)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerBuilder$3.create(ContainerBuilder.java:93)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:487)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerBuilder.create(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.createBootstrapContainer(DefaultConfiguration.java:305)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:210)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	... 33 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at com.opensymphony.xwork2.ognl.OgnlValueStackFactory.setContainer(OgnlValueStackFactory.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerBuilder$5.create(ContainerBuilder.java:207)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerBuilder$3.create(ContainerBuilder.java:93)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:487)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerBuilder.create(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.createBootstrapContainer(DefaultConfiguration.java:305)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:210)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
[DEBUG][2017-11-26 23:44:59,705] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-26 23:44:59,715] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-26 23:45:00,814] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-26 23:45:01,003] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-26 23:45:01,006] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-26 23:45:01,179] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-26 23:45:01,188] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:45:01,196] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:45:01,227] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:45:01,228] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-26 23:45:01,229] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:45:01,229] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-26 23:45:01,230] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-26 23:45:01,232] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 00:08:06,144] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 00:08:06,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 00:08:06,705] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 00:08:06,875] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 00:08:06,880] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 00:08:07,035] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 00:08:07,044] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:08:07,045] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:08:07,054] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:08:07,055] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:08:07,055] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:08:07,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:08:07,056] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 00:08:07,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 00:12:05,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 00:12:05,912] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 00:12:07,034] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 00:12:07,202] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 00:12:07,206] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 00:12:07,359] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 00:12:07,370] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:12:07,370] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:12:07,379] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:12:07,380] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:12:07,381] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:12:07,381] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:12:07,382] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 00:12:07,385] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 00:14:21,252] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 00:14:21,274] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 00:14:21,808] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 00:14:21,971] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 00:14:21,976] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 00:14:22,123] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 00:14:22,133] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:14:22,134] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:14:22,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:14:22,143] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:14:22,143] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:14:22,143] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:14:22,144] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 00:14:22,146] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-27 00:19:29,563] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-27 00:19:40,861] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 00:19:40,913] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 00:19:41,450] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 00:19:41,614] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 00:19:41,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 00:19:41,764] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 00:19:41,771] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:19:41,772] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:19:41,779] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:19:41,780] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:19:41,780] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:19:41,781] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:19:41,781] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 00:19:41,783] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 00:33:56,465] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 00:33:56,494] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 00:33:57,091] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 00:33:57,284] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 00:33:57,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 00:33:57,448] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 00:33:57,457] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:33:57,458] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:33:57,467] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:33:57,468] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 00:33:57,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:33:57,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 00:33:57,469] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 00:33:57,472] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 09:15:02,746] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 09:15:03,336] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 09:15:06,969] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 09:15:07,060] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 09:15:07,982] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 09:15:09,427] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 09:15:09,436] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 09:15:09,442] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 09:15:09,458] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 09:15:09,458] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 09:15:09,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 09:15:09,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 09:15:09,460] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 09:15:09,526] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 10:52:10,592] com.sinosoft.efiling.service.DocumentService.revokeDocument(DocumentService.java:1331)
	请求的单证号:11250000000040
[DEBUG][2017-11-27 10:52:12,242] com.sinosoft.efiling.service.DocumentService.revokeDocument(DocumentService.java:1337)
	请求的单证号:11250000000040,单证系统返回的数据:
[DEBUG][2017-11-27 10:53:49,083] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:108)
	请求的单证号:11250000000040
[DEBUG][2017-11-27 10:53:49,123] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:114)
	请求的单证号:11250000000040,单证系统返回的数据:
[DEBUG][2017-11-27 15:36:52,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 15:36:52,972] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 15:36:54,311] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 15:36:54,412] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 15:36:54,412] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 15:36:54,672] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 15:36:54,712] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:36:54,746] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:36:54,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:36:54,770] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:36:54,770] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:36:54,770] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:36:54,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 15:36:54,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 15:44:06,768] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 15:44:06,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 15:44:07,649] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 15:44:07,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 15:44:07,869] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 15:44:07,950] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 15:44:07,950] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:44:07,960] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:44:07,980] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:44:07,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:44:07,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:44:07,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:44:07,980] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 15:44:08,000] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 15:57:34,941] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 15:57:35,002] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 15:57:35,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 15:57:35,329] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 15:57:35,339] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 15:57:35,379] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 15:57:35,379] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:57:35,379] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:57:35,389] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:57:35,389] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:57:35,389] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:57:35,389] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:57:35,389] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 15:57:35,409] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 15:59:02,624] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 15:59:02,654] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 15:59:02,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 15:59:02,975] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 15:59:02,975] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 15:59:03,005] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 15:59:03,005] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:59:03,005] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:59:03,015] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:59:03,015] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 15:59:03,015] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:59:03,015] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 15:59:03,015] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 15:59:03,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 16:05:31,093] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 16:05:31,115] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 16:05:31,427] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 16:05:31,467] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 16:05:31,467] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 16:05:31,487] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 16:05:31,497] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:05:31,497] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:05:31,507] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:05:31,507] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:05:31,507] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:05:31,507] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:05:31,507] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 16:05:31,507] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 16:06:50,817] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 16:06:50,857] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 16:06:51,128] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 16:06:51,228] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 16:06:51,228] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 16:06:51,258] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 16:06:51,268] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:06:51,268] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:06:51,278] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:06:51,278] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:06:51,278] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:06:51,278] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:06:51,278] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 16:06:51,278] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 16:27:13,055] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 16:27:13,085] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 16:27:13,366] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 16:27:13,416] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 16:27:13,416] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 16:27:13,446] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 16:27:13,456] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:27:13,456] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:27:13,466] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:27:13,466] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:27:13,466] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:27:13,466] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:27:13,466] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 16:27:13,466] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 16:29:34,443] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 16:29:34,463] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 16:29:35,254] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 16:29:35,324] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 16:29:35,324] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 16:29:35,364] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 16:29:35,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:29:35,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:29:35,374] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:29:35,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:29:35,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:29:35,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:29:35,374] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 16:29:35,384] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 16:38:40,277] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 16:38:40,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 16:38:40,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 16:38:40,678] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 16:38:40,678] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 16:38:40,738] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 16:38:40,738] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:38:40,738] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:38:40,748] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:38:40,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 16:38:40,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:38:40,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 16:38:40,748] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 16:38:40,748] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 17:46:18,199] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 17:46:18,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 17:46:18,504] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 17:46:18,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 17:46:18,620] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 17:46:18,688] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 17:46:18,691] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:46:18,691] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:46:18,699] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:46:18,699] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:46:18,700] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:46:18,700] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:46:18,701] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 17:46:18,703] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 17:49:45,415] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 17:49:45,429] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 17:49:46,462] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 17:49:46,510] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 17:49:46,514] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 17:49:46,541] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_ID,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_ID AS SALES_ID,T.SALES_ID AS SALES_ID,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,'' AS SALES_ID,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 17:49:46,544] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:49:46,545] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:49:46,554] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:49:46,555] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:49:46,555] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:49:46,556] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:49:46,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 17:49:46,559] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-27 17:54:36,430] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-01789: 查询块具有不正确的结果列数

[ERROR][2017-11-27 17:54:36,473] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-01789: 查询块具有不正确的结果列数

[ERROR][2017-11-27 17:54:36,502] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-01789: 查询块具有不正确的结果列数

[ERROR][2017-11-27 17:57:46,243] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'companyService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:532)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:190)
	at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:111)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:477)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:362)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:322)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:412)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
[DEBUG][2017-11-27 17:59:05,776] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 17:59:05,788] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 17:59:06,588] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 17:59:06,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 17:59:06,628] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 17:59:06,688] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 17:59:06,697] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:59:06,708] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:59:06,732] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:59:06,732] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 17:59:06,733] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:59:06,733] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 17:59:06,734] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 17:59:06,736] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-27 18:01:58,741] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-27 18:01:58,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-27 18:01:59,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-27 18:01:59,248] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-27 18:01:59,252] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-27 18:01:59,290] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-27 18:01:59,294] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 18:01:59,296] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 18:01:59,306] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 18:01:59,307] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-27 18:01:59,308] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 18:01:59,309] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-27 18:01:59,310] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-27 18:01:59,313] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 09:36:14,503] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 09:36:14,591] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 09:36:15,832] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 09:36:15,871] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 09:36:15,907] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 09:36:16,036] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 09:36:16,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 09:36:16,060] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 09:36:16,083] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 09:36:16,084] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 09:36:16,084] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 09:36:16,085] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 09:36:16,085] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 09:36:16,109] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 10:37:53,680] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 10:37:53,690] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 10:37:54,616] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 10:37:54,668] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 10:37:54,671] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 10:37:54,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 10:37:54,747] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 10:37:54,757] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 10:37:54,782] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 10:37:54,783] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 10:37:54,784] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 10:37:54,784] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 10:37:54,785] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 10:37:54,788] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 11:16:33,910] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 11:16:33,923] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 11:16:34,754] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 11:16:34,786] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 11:16:34,789] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 11:16:34,841] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 11:16:34,850] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:16:34,858] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:16:34,878] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:16:34,879] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:16:34,879] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:16:34,880] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:16:34,880] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 11:16:34,883] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 11:41:57,187] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 11:41:57,198] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 11:41:58,052] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 11:41:58,158] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 11:41:58,162] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 11:41:58,208] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 11:41:58,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:41:58,226] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:41:58,257] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:41:58,257] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:41:58,258] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:41:58,259] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:41:58,259] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 11:41:58,262] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 11:47:48,243] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 11:47:48,257] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 11:47:49,133] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 11:47:49,174] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 11:47:49,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 11:47:49,440] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 11:47:49,449] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:47:49,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:47:49,477] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:47:49,478] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:47:49,479] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:47:49,479] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:47:49,479] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 11:47:49,481] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 11:53:23,759] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 11:53:23,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 11:53:24,688] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 11:53:24,874] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 11:53:24,878] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 11:53:24,936] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 11:53:24,946] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:53:24,956] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:53:24,979] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:53:24,979] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 11:53:24,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:53:24,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 11:53:24,980] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 11:53:24,982] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 13:24:49,718] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 13:24:49,732] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 13:24:50,612] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 13:24:50,646] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 13:24:50,649] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 13:24:50,704] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 13:24:50,896] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:24:50,903] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:24:50,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:24:50,923] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:24:50,923] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:24:50,924] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:24:50,924] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 13:24:50,927] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 13:39:05,100] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 13:39:05,111] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 13:39:05,465] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 13:39:05,514] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 13:39:05,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 13:39:05,548] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 13:39:05,550] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:39:05,551] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:39:05,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:39:05,557] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:39:05,558] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:39:05,558] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:39:05,559] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 13:39:05,561] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 13:40:41,240] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:108)
	请求的单证号:51711000000425
[DEBUG][2017-11-28 13:40:42,480] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:114)
	请求的单证号:51711000000425,单证系统返回的数据:
[DEBUG][2017-11-28 13:45:43,258] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:108)
	请求的单证号:11711000000701
[DEBUG][2017-11-28 13:45:43,349] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:114)
	请求的单证号:11711000000701,单证系统返回的数据:
[DEBUG][2017-11-28 13:46:09,851] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 13:46:09,862] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 13:46:10,138] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 13:46:10,182] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 13:46:10,186] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 13:46:10,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 13:46:10,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:46:10,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:46:10,230] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:46:10,231] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 13:46:10,232] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:46:10,232] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 13:46:10,233] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 13:46:10,237] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 13:46:31,629] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:11711000000703
[DEBUG][2017-11-28 13:46:31,861] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:11711000000703,单证系统返回的数据:
[DEBUG][2017-11-28 13:47:26,379] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:31711000000703
[DEBUG][2017-11-28 13:47:26,456] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:31711000000703,单证系统返回的数据:
[DEBUG][2017-11-28 17:03:53,853] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:03:53,936] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:03:54,675] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:03:54,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:03:54,804] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:03:54,915] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:03:54,918] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:03:54,918] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:03:54,928] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:03:54,929] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:03:54,929] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:03:54,931] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:03:54,932] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:03:54,946] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:04:28,236] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:04:28,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:04:28,585] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:04:28,632] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:04:28,634] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:04:28,663] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:04:28,667] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:04:28,668] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:04:28,678] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:04:28,679] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:04:28,680] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:04:28,680] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:04:28,680] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:04:28,683] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:05:08,853] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:05:08,869] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:05:09,206] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:05:09,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:05:09,255] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:05:09,287] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:05:09,289] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:05:09,289] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:05:09,296] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:05:09,297] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:05:09,297] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:05:09,298] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:05:09,298] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:05:09,300] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:07:33,087] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:07:33,101] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:07:34,043] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:07:34,104] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:07:34,108] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:07:34,162] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.BUSINESSNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:07:34,171] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:07:34,179] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:07:34,200] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:07:34,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:07:34,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:07:34,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:07:34,202] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:07:34,204] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:23:29,061] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:23:29,084] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:23:29,452] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:23:29,505] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:23:29,510] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:23:29,543] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,DECODE(V.VISASTATUS,'05','é???¤±???è??','06','?????????è??','?・??????¨???è??') AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:23:29,547] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:23:29,548] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:23:29,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:23:29,558] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:23:29,559] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:23:29,560] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:23:29,561] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:23:29,565] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:28:47,123] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:28:47,138] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:28:47,520] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:28:47,577] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:28:47,581] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:28:47,618] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,DECODE(V.VISASTATUS,'05','é???¤±???è??','06','?????????è??','?????¨???è??') AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:28:47,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:28:47,624] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:28:47,633] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:28:47,635] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:28:47,636] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:28:47,636] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:28:47,638] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:28:47,642] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:40:16,821] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:40:16,838] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:40:17,154] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:40:17,206] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:40:17,210] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:40:17,244] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS, AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:40:17,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:17,251] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:17,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:40:17,262] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:40:17,263] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:17,263] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:17,265] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:40:17,268] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 17:40:38,575] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:40:38,592] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:40:38,891] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:40:38,941] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:40:38,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:40:38,973] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS, AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:40:38,981] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:38,982] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:38,992] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:40:38,993] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:40:38,995] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:38,996] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:40:38,996] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:40:39,000] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-28 17:49:03,150] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-28 17:49:03,176] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-28 17:49:03,307] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[DEBUG][2017-11-28 17:51:18,908] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 17:51:18,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 17:51:19,258] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 17:51:19,299] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 17:51:19,303] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 17:51:19,335] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 17:51:19,339] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:51:19,340] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:51:19,350] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:51:19,351] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 17:51:19,351] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:51:19,352] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 17:51:19,353] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 17:51:19,355] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-28 17:52:04,574] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-28 17:52:04,587] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-28 17:52:04,605] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[DEBUG][2017-11-28 18:01:21,921] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:0911000000030
[DEBUG][2017-11-28 18:01:23,373] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:0911000000030,单证系统返回的数据:
[DEBUG][2017-11-28 18:03:24,397] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:0911000000035
[DEBUG][2017-11-28 18:03:24,434] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:0911000000035,单证系统返回的数据:
[DEBUG][2017-11-28 18:04:52,710] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:0911000000035
[DEBUG][2017-11-28 18:05:28,843] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:0911000000035,单证系统返回的数据:visaNos=0911000000035&type=04
[DEBUG][2017-11-28 18:10:32,458] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 18:10:32,469] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 18:10:32,796] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 18:10:32,848] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 18:10:32,851] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 18:10:32,884] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 18:10:32,887] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 18:10:32,888] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 18:10:32,896] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 18:10:32,897] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 18:10:32,898] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 18:10:32,898] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 18:10:32,898] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 18:10:32,901] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 18:10:44,936] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:109)
	请求的单证号:0911000000035
[DEBUG][2017-11-28 18:10:45,323] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:115)
	请求的单证号:0911000000035,单证系统返回的数据:
[DEBUG][2017-11-28 20:29:46,724] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 20:29:46,787] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 20:29:48,546] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 20:29:48,803] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 20:29:48,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 20:29:49,383] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 20:29:49,414] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 20:29:49,434] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 20:29:49,456] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 20:29:49,457] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 20:29:49,458] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 20:29:49,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 20:29:49,460] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 20:29:49,490] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 22:26:59,024] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 22:26:59,038] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 22:27:00,674] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 22:27:01,010] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 22:27:01,013] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 22:27:01,237] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 22:27:01,241] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:27:01,242] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:27:01,249] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:27:01,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:27:01,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:27:01,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:27:01,250] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 22:27:01,252] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 22:40:32,876] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 22:40:32,889] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 22:40:34,005] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 22:40:34,201] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 22:40:34,205] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 22:40:34,387] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 22:40:34,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:40:34,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:40:34,405] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:40:34,406] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:40:34,407] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:40:34,407] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:40:34,407] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 22:40:34,410] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 22:43:59,932] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 22:43:59,943] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 22:44:00,975] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 22:44:01,170] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 22:44:01,173] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 22:44:01,354] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 22:44:01,357] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:44:01,358] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:44:01,367] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:44:01,368] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:44:01,368] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:44:01,368] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:44:01,369] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 22:44:01,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 22:52:32,785] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 22:52:32,795] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 22:52:33,501] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 22:52:33,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 22:52:33,694] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 22:52:33,887] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 22:52:33,892] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:52:33,893] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:52:33,907] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:52:33,908] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:52:33,908] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:52:33,909] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:52:33,909] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 22:52:33,913] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 22:54:17,828] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 22:54:17,846] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 22:54:18,574] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 22:54:18,767] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 22:54:18,771] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 22:54:19,468] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 22:54:19,472] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:54:19,473] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:54:19,480] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:54:19,481] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 22:54:19,482] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:54:19,482] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 22:54:19,483] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 22:54:19,485] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 23:06:09,706] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 23:06:09,725] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 23:06:10,422] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 23:06:10,616] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 23:06:10,620] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 23:06:10,803] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 23:06:10,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:06:10,807] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:06:10,815] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 23:06:10,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 23:06:10,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:06:10,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:06:10,817] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 23:06:10,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-28 23:18:08,346] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-28 23:18:08,360] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-28 23:18:09,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-28 23:18:09,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-28 23:18:09,220] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-28 23:18:09,454] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-28 23:18:09,457] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:18:09,458] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:18:09,468] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 23:18:09,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-28 23:18:09,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:18:09,470] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-28 23:18:09,470] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-28 23:18:09,473] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 16:10:52,081] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:10:52,130] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:10:53,193] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:10:53,291] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:10:53,320] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:10:53,559] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:10:53,591] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:10:53,603] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:10:53,621] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:10:53,621] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:10:53,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:10:53,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:10:53,623] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:10:53,648] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 16:14:33,958] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:14:33,973] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:14:34,257] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:14:34,300] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:14:34,303] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:14:34,329] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:14:34,332] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:14:34,333] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:14:34,340] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:14:34,341] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:14:34,341] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:14:34,342] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:14:34,342] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:14:34,344] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 16:28:45,896] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:28:45,909] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:28:46,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:28:46,858] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:28:46,862] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:28:46,942] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:28:46,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:28:46,971] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:28:46,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:28:46,991] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:28:46,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:28:46,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:28:46,993] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:28:46,995] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 16:30:37,688] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:30:37,698] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:30:38,054] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:30:38,097] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:30:38,101] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:30:38,160] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:30:38,194] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:30:38,194] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:30:38,202] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:30:38,203] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:30:38,203] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:30:38,203] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:30:38,203] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:30:38,206] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-29 16:35:09,552] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-29 16:35:09,595] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-29 16:35:09,618] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[DEBUG][2017-11-29 16:37:59,540] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:37:59,556] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:38:00,026] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:38:00,085] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:38:00,089] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:38:00,145] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:38:00,207] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:38:00,209] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:38:00,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:38:00,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:38:00,219] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:38:00,220] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:38:00,220] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:38:00,223] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-29 16:39:39,566] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-29 16:39:39,584] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[ERROR][2017-11-29 16:39:39,615] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00936: 缺失表达式

[DEBUG][2017-11-29 16:48:56,301] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:48:56,331] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:48:56,646] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:48:56,694] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:48:56,700] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:48:56,739] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:48:56,742] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:48:56,743] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:48:56,754] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:48:56,755] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:48:56,755] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:48:56,755] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:48:56,756] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:48:56,758] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 16:58:08,166] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 16:58:08,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 16:58:08,584] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 16:58:08,635] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 16:58:08,639] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 16:58:08,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 16:58:08,750] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:58:08,751] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:58:08,759] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:58:08,760] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 16:58:08,760] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:58:08,761] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 16:58:08,761] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 16:58:08,763] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 17:02:06,180] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 17:02:06,192] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 17:02:06,505] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 17:02:06,637] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 17:02:06,641] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 17:02:06,678] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 17:02:06,682] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:02:06,682] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:02:06,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:02:06,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:02:06,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:02:06,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:02:06,691] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 17:02:06,693] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 17:44:17,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 17:44:17,237] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 17:44:17,573] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 17:44:17,615] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 17:44:17,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 17:44:17,653] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 17:44:17,657] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:44:17,657] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:44:17,667] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:44:17,667] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:44:17,668] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:44:17,668] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:44:17,669] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 17:44:17,671] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 17:48:16,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 17:48:16,949] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 17:48:17,262] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 17:48:17,318] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 17:48:17,322] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 17:48:17,362] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 17:48:17,365] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:48:17,366] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:48:17,377] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:48:17,378] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 17:48:17,379] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:48:17,380] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 17:48:17,380] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 17:48:17,383] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-29 17:52:46,087] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:110)
	请求的单证号:0950000003351
[DEBUG][2017-11-29 17:52:48,413] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:116)
	请求的单证号:0950000003351,单证系统返回的数据:
[DEBUG][2017-11-29 18:08:23,624] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:110)
	请求的单证号:0950000003351
[DEBUG][2017-11-29 18:10:57,371] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:116)
	请求的单证号:0950000003351,单证系统返回的数据:
[DEBUG][2017-11-29 19:49:04,327] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-29 19:49:04,339] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-29 19:49:05,084] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-29 19:49:05,126] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-29 19:49:05,129] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-29 19:49:05,181] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME,AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE,SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,CASE WHEN T.FILE_STATUS = '11' AND V.DUSTYFLAG != '04' THEN '01' WHEN T.FILE_STATUS = '00' AND V.DUSTYFLAG = '04' THEN '01' WHEN T.FILE_STATUS = '10' AND V.DUSTYFLAG != '04' THEN '01' ELSE T.FILE_STATUS END AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASTATUS AS NO,V.VISASERIALNO,'' AS LACKS,DECODE(V.DUSTYFLAG,'04','11','00') AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, V.COMCODE AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL UNION SELECT T.ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS,'' AS VISACODE,'' AS VISANAME,T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE TYPE <> 'V' AND NOT EXISTS(SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-29 19:49:05,189] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 19:49:05,198] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 19:49:05,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 19:49:05,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-29 19:49:05,223] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 19:49:05,223] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-29 19:49:05,223] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-29 19:49:05,226] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
