[DEBUG][2017-11-14 09:45:14,291] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 09:45:14,347] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 09:45:15,489] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 09:45:15,549] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 09:45:15,637] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 09:45:15,743] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 09:45:15,754] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:45:15,763] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:45:15,782] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 09:45:15,782] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 09:45:15,783] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:45:15,783] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:45:15,783] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 09:45:15,818] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 09:54:47,874] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 09:54:47,883] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 09:54:48,809] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 09:54:48,855] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 09:54:48,858] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 09:54:48,921] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 09:54:48,930] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:54:48,942] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:54:48,961] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 09:54:48,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 09:54:48,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:54:48,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 09:54:48,963] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 09:54:48,965] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:43:33,997] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:43:34,105] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:43:34,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:43:34,658] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:43:34,694] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:43:34,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:43:34,819] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:43:34,820] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:43:34,830] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:43:34,831] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:43:34,832] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:43:34,832] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:43:34,832] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:43:34,853] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:47:18,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:47:18,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:47:19,271] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:47:19,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:47:19,357] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:47:19,425] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:47:19,429] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:47:19,430] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:47:19,442] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:47:19,443] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:47:19,445] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:47:19,446] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:47:19,447] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:47:19,451] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:49:05,062] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:49:05,074] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:49:05,351] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:49:05,401] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:49:05,405] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:49:05,430] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:49:05,434] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:49:05,435] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:49:05,444] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:49:05,445] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:49:05,445] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:49:05,446] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:49:05,447] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:49:05,449] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:51:27,128] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:51:27,137] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:51:27,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:51:27,468] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:51:27,473] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:51:27,501] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:51:27,504] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:51:27,504] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:51:27,513] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:51:27,514] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:51:27,514] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:51:27,515] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:51:27,515] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:51:27,518] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:55:29,616] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:55:29,626] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:55:29,916] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:55:29,955] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:55:29,960] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:55:29,989] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:55:29,991] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:55:29,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:55:29,999] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:55:30,000] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:55:30,000] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:55:30,000] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:55:30,001] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:55:30,003] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-14 16:57:54,875] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-14 16:58:25,583] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:58:25,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:58:25,872] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:58:25,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:58:25,924] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:58:25,953] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:58:25,955] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:58:25,956] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:58:25,962] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:58:25,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:58:25,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:58:25,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:58:25,964] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:58:25,966] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 16:59:30,503] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 16:59:30,515] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 16:59:30,778] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 16:59:30,830] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 16:59:30,833] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 16:59:30,858] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 16:59:30,861] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:59:30,862] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:59:30,871] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:59:30,872] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 16:59:30,872] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:59:30,873] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 16:59:30,873] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 16:59:30,875] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 17:03:30,695] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 17:03:30,708] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 17:03:30,984] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 17:03:31,021] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 17:03:31,024] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 17:03:31,049] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 17:03:31,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:03:31,053] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:03:31,061] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 17:03:31,061] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 17:03:31,062] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:03:31,062] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:03:31,062] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 17:03:31,064] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 17:07:29,998] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 17:07:30,010] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 17:07:30,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 17:07:30,326] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 17:07:30,329] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 17:07:30,353] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 17:07:30,355] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:07:30,356] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:07:30,364] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 17:07:30,365] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 17:07:30,365] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:07:30,366] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 17:07:30,366] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 17:07:30,368] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-14 17:16:17,031] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:324)
	Context initialization failed
java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:260)
	at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:416)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1287)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1258)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1335)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:356)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:327)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:435)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:624)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:461)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
[ERROR][2017-11-14 18:07:27,218] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Dispatcher initialization failed
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:301)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerBuilder$5.create(ContainerBuilder.java:207)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerBuilder$3.create(ContainerBuilder.java:93)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:487)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerBuilder.create(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.createBootstrapContainer(DefaultConfiguration.java:305)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:210)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	... 33 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at com.opensymphony.xwork2.ognl.OgnlValueStackFactory.setContainer(OgnlValueStackFactory.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerBuilder$5.create(ContainerBuilder.java:207)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerBuilder$3.create(ContainerBuilder.java:93)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:487)
	at com.opensymphony.xwork2.inject.ContainerBuilder$7.call(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerBuilder.create(ContainerBuilder.java:484)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.createBootstrapContainer(DefaultConfiguration.java:305)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:210)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
[DEBUG][2017-11-14 18:09:56,897] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 18:09:56,909] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 18:09:57,753] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 18:09:57,823] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 18:09:57,833] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 18:09:57,899] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 18:09:57,914] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:09:57,924] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:09:57,960] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 18:09:57,961] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 18:09:57,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:09:57,962] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:09:57,963] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 18:09:57,966] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-14 18:15:02,058] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-14 18:15:02,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-14 18:15:02,398] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-14 18:15:02,445] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-14 18:15:02,448] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-14 18:15:02,472] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-14 18:15:02,474] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:15:02,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:15:02,482] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 18:15:02,482] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-14 18:15:02,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:15:02,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-14 18:15:02,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-14 18:15:02,486] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 09:48:27,912] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 09:48:27,967] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 09:48:28,576] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 09:48:28,762] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 09:48:28,790] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 09:48:28,903] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 09:48:28,924] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:48:28,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:48:28,933] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 09:48:28,933] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 09:48:28,934] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:48:28,934] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:48:28,935] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 09:48:28,957] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-15 09:51:12,267] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-15 09:52:30,077] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 09:52:30,088] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 09:52:30,973] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 09:52:31,015] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 09:52:31,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 09:52:31,213] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 09:52:31,221] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:52:31,227] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:52:31,244] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 09:52:31,244] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 09:52:31,245] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:52:31,245] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 09:52:31,246] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 09:52:31,248] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:16:14,022] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:16:14,033] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:16:14,344] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:16:14,380] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:16:14,383] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:16:14,409] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:16:14,411] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:16:14,412] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:16:14,420] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:16:14,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:16:14,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:16:14,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:16:14,422] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:16:14,424] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:21:21,485] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:21:21,497] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:21:21,748] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:21:21,792] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:21:21,794] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:21:21,818] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:21:21,821] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:21:21,821] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:21:21,828] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:21:21,829] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:21:21,830] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:21:21,830] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:21:21,830] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:21:21,832] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:24:35,749] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:24:35,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:24:36,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:24:36,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:24:36,062] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:24:36,085] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:24:36,088] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:24:36,088] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:24:36,095] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:24:36,095] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:24:36,096] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:24:36,096] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:24:36,097] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:24:36,099] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:28:48,349] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:28:48,361] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:28:48,617] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:28:48,661] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:28:48,665] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:28:48,689] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:28:48,691] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:28:48,692] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:28:48,699] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:28:48,699] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:28:48,700] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:28:48,700] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:28:48,700] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:28:48,703] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:42:15,136] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:42:15,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:42:15,396] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:42:15,435] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:42:15,438] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:42:15,462] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:42:15,465] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:42:15,465] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:42:15,474] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:42:15,474] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:42:15,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:42:15,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:42:15,475] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:42:15,477] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:54:14,655] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:54:14,667] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:54:14,936] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:54:14,981] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:54:14,984] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:54:15,014] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:54:15,016] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:54:15,017] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:54:15,024] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:54:15,024] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:54:15,025] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:54:15,025] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:54:15,026] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:54:15,028] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:58:15,186] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:58:15,198] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:58:15,448] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:58:15,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:58:15,487] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:58:15,532] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:58:15,535] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:58:15,535] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:58:15,541] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:58:15,541] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:58:15,542] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:58:15,542] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:58:15,542] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:58:15,544] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 10:59:34,342] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 10:59:34,352] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 10:59:34,612] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 10:59:34,656] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 10:59:34,659] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 10:59:34,685] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 10:59:34,688] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:59:34,688] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:59:34,696] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:59:34,697] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 10:59:34,697] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:59:34,697] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 10:59:34,698] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 10:59:34,700] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[FATAL][2017-11-15 11:05:39,527] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.fatal(CommonsLogger.java:89)
	********** FATAL ERROR STARTING UP STRUTS-SPRING INTEGRATION **********
Looks like the Spring listener was not configured for your web app! 
Nothing will work until WebApplicationContextUtils returns a valid ApplicationContext.
You might need to add the following to web.xml: 
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>
[ERROR][2017-11-15 11:05:39,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Conversion registration error
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.createTypeConverter(XWorkConverter.java:766)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:799)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:779)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.setObjectFactory(XWorkConverter.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:514)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:524)
	at com.opensymphony.xwork2.inject.ContainerImpl$9.call(ContainerImpl.java:555)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:553)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:232)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[ERROR][2017-11-15 11:05:39,707] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Dispatcher initialization failed
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.getClassInstance(SpringObjectFactory.java:230)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.verifyResultType(XmlConfigurationProvider.java:592)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addResultTypes(XmlConfigurationProvider.java:563)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:519)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadPackages(XmlConfigurationProvider.java:290)
	at org.apache.struts2.config.StrutsXmlConfigurationProvider.loadPackages(StrutsXmlConfigurationProvider.java:112)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:239)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-15 11:05:44,258] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:05:44,265] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:05:44,713] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:05:44,757] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:05:44,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:05:44,900] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:05:44,905] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:05:44,906] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:05:44,920] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:05:44,921] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:05:44,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:05:44,927] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:05:44,927] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:05:44,933] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:06:52,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:06:52,988] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:06:54,046] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:06:54,085] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:06:54,088] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:06:54,142] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:06:54,152] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:06:54,158] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:06:54,176] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:06:54,177] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:06:54,177] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:06:54,178] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:06:54,178] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:06:54,180] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-15 11:09:53,489] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Exception occurred during processing request: Unable to instantiate Action, fileManualhandleAction,  defined for 'query' in namespace '/file/manualhandle'Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Cannot resolve reference to bean 'userService' while setting bean property 'userService'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'userService': Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
Unable to instantiate Action, fileManualhandleAction,  defined for 'query' in namespace '/file/manualhandle'Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Cannot resolve reference to bean 'userService' while setting bean property 'userService'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'userService': Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:312)
	at com.opensymphony.xwork2.DefaultActionInvocation.init(DefaultActionInvocation.java:393)
	at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:194)
	at org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
	at org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
	at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:534)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Cannot resolve reference to bean 'userService' while setting bean property 'userService'; nested exception is org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'userService': Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:314)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildAction(ObjectFactory.java:121)
	at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:293)
	... 34 more
Caused by: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'userService': Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)
	... 46 more
[DEBUG][2017-11-15 11:10:03,163] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:10:03,174] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:10:03,438] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:10:03,482] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:10:03,485] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:10:03,511] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:10:03,513] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:10:03,514] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:10:03,520] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:10:03,521] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:10:03,521] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:10:03,522] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:10:03,522] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:10:03,524] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:19:25,713] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:19:25,726] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:19:25,980] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:19:26,027] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:19:26,030] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:19:26,055] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:19:26,058] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:19:26,059] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:19:26,067] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:19:26,068] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:19:26,069] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:19:26,070] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:19:26,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:19:26,073] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:24:33,509] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:24:33,523] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:24:33,811] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:24:33,854] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:24:33,857] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:24:33,883] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:24:33,886] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:24:33,887] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:24:33,894] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:24:33,895] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:24:33,896] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:24:33,896] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:24:33,897] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:24:33,899] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:25:29,967] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:25:29,979] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:25:30,226] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:25:30,267] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:25:30,270] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:25:30,383] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:25:30,386] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:25:30,387] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:25:30,394] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:25:30,395] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:25:30,395] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:25:30,396] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:25:30,396] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:25:30,399] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:46:15,763] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:46:15,775] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:46:16,019] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:46:16,088] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:46:16,092] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:46:16,120] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:46:16,123] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:16,124] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:16,130] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:46:16,131] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:46:16,131] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:16,132] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:16,132] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:46:16,134] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 11:46:58,658] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 11:46:58,671] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 11:46:58,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 11:46:58,994] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 11:46:58,997] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 11:46:59,022] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 11:46:59,024] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:59,025] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:59,033] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:46:59,034] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 11:46:59,039] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:59,040] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 11:46:59,040] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 11:46:59,042] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 14:28:22,845] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 14:28:22,857] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 14:28:23,141] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 14:28:23,197] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 14:28:23,200] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 14:28:23,229] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 14:28:23,232] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 14:28:23,232] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 14:28:23,239] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 14:28:23,239] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 14:28:23,240] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 14:28:23,240] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 14:28:23,240] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 14:28:23,242] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 16:02:52,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 16:02:52,274] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 16:02:52,547] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 16:02:52,654] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 16:02:52,658] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 16:02:52,692] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 16:02:52,695] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:02:52,696] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:02:52,704] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:02:52,705] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:02:52,706] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:02:52,706] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:02:52,706] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 16:02:52,709] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-15 16:06:05,240] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.PrpPMain
java.lang.RuntimeException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:344)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.GeneratedConstructorAccessor967.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javassist.CannotCompileException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:169)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	... 55 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at sun.reflect.GeneratedMethodAccessor1583.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.GeneratedConstructorAccessor967.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
[ERROR][2017-11-15 16:06:22,350] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateTemplate' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Initialization of bean failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:532)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)
	at java.lang.Class.privateGetPublicMethods(Class.java:2547)
	at java.lang.Class.getMethods(Class.java:1410)
	at org.springframework.beans.ExtendedBeanInfoFactory.supports(ExtendedBeanInfoFactory.java:53)
	at org.springframework.beans.ExtendedBeanInfoFactory.getBeanInfo(ExtendedBeanInfoFactory.java:44)
	at org.springframework.beans.CachedIntrospectionResults.<init>(CachedIntrospectionResults.java:236)
	at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:152)
	at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:321)
	at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:328)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1277)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1257)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
[DEBUG][2017-11-15 16:29:36,190] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 16:29:36,199] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 16:29:37,226] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 16:29:37,284] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 16:29:37,288] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 16:29:37,406] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 16:29:37,413] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:29:37,419] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:29:37,435] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:29:37,436] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:29:37,436] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:29:37,437] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:29:37,437] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 16:29:37,439] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 16:48:08,382] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 16:48:08,394] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 16:48:08,662] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 16:48:08,754] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 16:48:08,757] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 16:48:08,785] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 16:48:08,787] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:48:08,788] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:48:08,796] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:48:08,797] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 16:48:08,797] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:48:08,798] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 16:48:08,798] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 16:48:08,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:12:08,616] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:12:08,627] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:12:08,981] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:12:09,027] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:12:09,030] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:12:09,054] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:12:09,057] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:12:09,057] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:12:09,065] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:12:09,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:12:09,066] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:12:09,066] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:12:09,066] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:12:09,068] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:20:08,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:20:08,530] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:20:08,805] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:20:08,850] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:20:08,853] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:20:08,877] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:20:08,879] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:20:08,880] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:20:08,887] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:20:08,887] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:20:08,888] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:20:08,888] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:20:08,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:20:08,890] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:27:22,078] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:27:22,090] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:27:22,360] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:27:22,398] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:27:22,403] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:27:22,435] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:27:22,438] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:27:22,439] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:27:22,448] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:27:22,449] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:27:22,450] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:27:22,450] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:27:22,451] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:27:22,453] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-15 17:28:19,782] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Exception occurred during processing request: There is no Action mapped for namespace [/file/manualhandle] and action name [collectDetail] associated with context path [/eFiling].
There is no Action mapped for namespace [/file/manualhandle] and action name [collectDetail] associated with context path [/eFiling]. - [unknown location]
	at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)
	at org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
	at org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
	at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:534)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-15 17:31:09,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:31:09,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:31:10,904] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:31:11,013] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:31:11,017] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:31:11,074] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:31:11,082] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:31:11,090] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:31:11,109] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:31:11,110] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:31:11,111] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:31:11,111] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:31:11,111] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:31:11,114] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:37:35,928] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:37:35,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:37:36,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:37:36,264] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:37:36,268] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:37:36,293] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:37:36,295] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:37:36,296] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:37:36,302] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:37:36,303] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:37:36,303] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:37:36,304] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:37:36,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:37:36,306] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-15 17:41:35,436] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	Syntax error on token ">", invalid Wildcard
	Syntax error, insert ">" to complete ReferenceType1
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	Syntax error on token ">", invalid Wildcard
	Syntax error, insert ">" to complete ReferenceType1
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 32 more
Caused by: java.lang.Error: Unresolved compilation problems: 
	Syntax error on token ">", invalid Wildcard
	Syntax error, insert ">" to complete ReferenceType1
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at com.sinosoft.efiling.service.FileManualhandleService.<init>(FileManualhandleService.java:143)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	... 34 more
[DEBUG][2017-11-15 17:45:36,626] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:45:36,638] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:45:36,915] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:45:36,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:45:36,953] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:45:36,981] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:45:36,984] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:45:36,985] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:45:36,991] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:45:36,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:45:36,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:45:36,993] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:45:36,993] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:45:36,995] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:49:37,057] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:49:37,068] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:49:37,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:49:37,777] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:49:37,780] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:49:37,805] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:49:37,807] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:49:37,808] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:49:37,815] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:49:37,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:49:37,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:49:37,817] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:49:37,817] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:49:37,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:53:36,725] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:53:36,736] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:53:37,031] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:53:37,075] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:53:37,078] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:53:37,107] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:53:37,109] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:53:37,110] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:53:37,116] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:53:37,117] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:53:37,117] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:53:37,118] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:53:37,118] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:53:37,120] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 17:57:36,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 17:57:36,271] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 17:57:36,521] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 17:57:36,567] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 17:57:36,571] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 17:57:36,596] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 17:57:36,598] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:57:36,599] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:57:36,607] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:57:36,608] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 17:57:36,608] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:57:36,609] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 17:57:36,609] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 17:57:36,611] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-15 18:01:36,360] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-15 18:01:36,372] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-15 18:01:36,641] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-15 18:01:36,686] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-15 18:01:36,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-15 18:01:36,714] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-15 18:01:36,717] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 18:01:36,717] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 18:01:36,724] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 18:01:36,725] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-15 18:01:36,725] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 18:01:36,725] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-15 18:01:36,725] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-15 18:01:36,727] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-16 09:49:58,701] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 32 more
Caused by: java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at com.sinosoft.efiling.service.FileManualhandleService.<init>(FileManualhandleService.java:189)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	... 34 more
[ERROR][2017-11-16 09:54:05,215] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 32 more
Caused by: java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at com.sinosoft.efiling.service.FileManualhandleService.<init>(FileManualhandleService.java:188)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	... 34 more
[ERROR][2017-11-16 09:56:07,642] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:184)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:361)
	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)
	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)
	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)
	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)
	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)
	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)
	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:180)
	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:96)
	at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 49 more
Caused by: java.lang.Error: Unresolved compilation problems: 
	files cannot be resolved to a variable
	batchId cannot be resolved to a variable
	batchId cannot be resolved to a variable
	isVisa cannot be resolved to a variable
	Syntax error, insert "Finally" to complete TryStatement
	notFound cannot be resolved to a variable
	notFoundMessage cannot be resolved
	notFoundMessage cannot be resolved to a variable
	visaNos cannot be resolved to a variable
	visaNos cannot be resolved
	visaNos cannot be resolved
	visaNos cannot be resolved to a variable
	Syntax error on token "catch", Identifier expected
	json cannot be resolved
	json cannot be resolved
	scanFileMsg cannot be resolved to a variable
	Syntax error on token "return", invalid Type
	Syntax error on token "}", delete this token
	Type mismatch: cannot convert from List<DocumentFile> to List<File>
	Type mismatch: cannot convert from List<File> to List<DocumentFile>

	at com.sinosoft.efiling.service.FileManualhandleService.<init>(FileManualhandleService.java:188)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	... 51 more
[DEBUG][2017-11-16 16:21:51,237] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 16:21:51,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 16:21:51,893] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 16:21:51,940] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 16:21:51,959] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 16:21:52,089] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 16:21:52,172] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:21:52,184] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:21:52,216] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 16:21:52,217] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 16:21:52,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:21:52,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:21:52,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 16:21:52,240] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 16:22:38,359] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 16:22:38,372] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 16:22:38,979] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 16:22:39,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 16:22:39,020] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 16:22:39,045] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 16:22:39,048] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:22:39,048] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:22:39,055] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 16:22:39,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 16:22:39,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:22:39,057] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 16:22:39,057] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 16:22:39,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:00:42,902] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:00:42,912] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:00:43,278] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:00:43,369] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:00:43,373] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:00:43,405] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:00:43,408] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:00:43,409] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:00:43,420] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:00:43,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:00:43,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:00:43,421] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:00:43,421] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:00:43,423] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:04:43,583] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:04:43,596] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:04:43,971] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:04:44,015] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:04:44,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:04:44,042] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:04:44,046] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:04:44,046] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:04:44,054] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:04:44,055] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:04:44,055] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:04:44,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:04:44,056] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:04:44,058] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:07:21,081] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:07:21,092] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:07:21,347] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:07:21,383] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:07:21,387] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:07:21,413] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:07:21,416] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:07:21,416] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:07:21,424] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:07:21,425] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:07:21,425] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:07:21,426] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:07:21,426] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:07:21,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:08:42,426] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:08:42,438] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:08:42,716] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:08:42,761] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:08:42,766] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:08:42,801] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:08:42,805] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:08:42,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:08:42,815] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:08:42,815] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:08:42,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:08:42,816] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:08:42,816] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:08:42,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:11:21,147] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:11:21,161] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:11:21,431] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:11:21,479] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:11:21,482] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:11:21,509] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:11:21,511] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:11:21,511] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:11:21,519] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:11:21,519] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:11:21,520] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:11:21,520] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:11:21,520] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:11:21,522] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:15:21,667] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:15:21,679] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:15:21,951] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:15:21,999] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:15:22,002] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:15:22,034] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:15:22,037] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:15:22,038] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:15:22,045] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:15:22,045] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:15:22,046] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:15:22,046] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:15:22,046] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:15:22,049] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:19:21,438] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:19:21,459] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:19:21,768] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:19:21,810] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:19:21,813] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:19:21,837] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:19:21,839] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:19:21,840] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:19:21,847] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:19:21,847] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:19:21,848] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:19:21,848] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:19:21,848] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:19:21,851] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-16 17:34:03,807] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.PrpCItemcar
java.lang.RuntimeException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:344)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javassist.CannotCompileException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:169)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	... 56 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at sun.reflect.GeneratedMethodAccessor526.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
[ERROR][2017-11-16 17:34:24,181] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at org.hibernate.util.ReflectHelper.classForName(ReflectHelper.java:192)
	at org.hibernate.mapping.PersistentClass.getMappedClass(PersistentClass.java:122)
	at org.hibernate.tuple.PropertyFactory.getGetter(PropertyFactory.java:191)
	at org.hibernate.tuple.PropertyFactory.buildIdentifierProperty(PropertyFactory.java:67)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:135)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
[DEBUG][2017-11-16 17:36:51,276] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:36:51,286] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:36:52,220] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:36:52,317] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:36:52,320] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:36:52,372] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:36:52,379] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:36:52,385] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:36:52,401] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:36:52,401] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:36:52,402] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:36:52,402] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:36:52,402] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:36:52,404] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:43:02,569] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:43:02,581] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:43:02,852] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:43:02,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:43:02,948] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:43:02,979] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:43:02,982] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:43:02,982] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:43:02,988] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:43:02,989] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:43:02,989] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:43:02,990] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:43:02,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:43:02,992] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-16 17:44:40,898] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[ERROR][2017-11-16 17:44:40,917] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[ERROR][2017-11-16 17:44:40,927] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[ERROR][2017-11-16 17:48:17,862] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[ERROR][2017-11-16 17:48:17,872] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[ERROR][2017-11-16 17:48:17,882] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00942: 表或视图不存在

[DEBUG][2017-11-16 17:48:31,665] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:48:31,677] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:48:31,935] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:48:31,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:48:31,981] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:48:32,008] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:48:32,011] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:48:32,012] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:48:32,019] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:48:32,020] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:48:32,020] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:48:32,020] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:48:32,021] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:48:32,023] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 17:56:38,707] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 17:56:38,718] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 17:56:38,985] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 17:56:39,031] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 17:56:39,034] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 17:56:39,062] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 17:56:39,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:56:39,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:56:39,073] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:56:39,074] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 17:56:39,075] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:56:39,075] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 17:56:39,075] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 17:56:39,077] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-16 18:02:08,447] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00918: 未明确定义列

[ERROR][2017-11-16 18:04:38,076] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00918: 未明确定义列

[DEBUG][2017-11-16 18:04:39,097] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 18:04:39,108] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 18:04:39,839] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 18:04:39,885] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 18:04:39,889] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 18:04:39,915] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 18:04:39,918] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:04:39,918] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:04:39,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 18:04:39,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 18:04:39,926] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:04:39,926] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:04:39,927] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 18:04:39,930] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-16 18:06:13,345] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-16 18:06:13,357] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-16 18:06:13,648] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-16 18:06:13,695] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-16 18:06:13,698] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-16 18:06:13,723] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-16 18:06:13,725] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:06:13,726] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:06:13,733] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 18:06:13,734] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-16 18:06:13,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:06:13,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-16 18:06:13,735] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-16 18:06:13,737] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 09:40:27,375] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 09:40:27,415] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 09:40:28,420] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 09:40:28,480] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 09:40:28,546] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 09:40:28,719] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 09:40:28,727] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:40:28,737] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:40:28,762] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:40:28,762] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:40:28,763] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:40:28,763] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:40:28,763] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 09:40:28,786] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 09:47:00,584] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 09:47:00,598] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 09:47:00,859] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 09:47:00,899] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 09:47:00,902] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 09:47:00,927] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 09:47:00,930] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:47:00,930] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:47:00,940] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:47:00,941] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:47:00,941] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:47:00,941] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:47:00,942] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 09:47:00,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 09:58:24,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 09:58:24,634] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 09:58:25,239] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 09:58:25,283] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 09:58:25,285] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 09:58:25,311] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, ??????#=é???????????sql?????????, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 09:58:25,314] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:58:25,314] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:58:25,322] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:58:25,323] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 09:58:25,323] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:58:25,324] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 09:58:25,324] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 09:58:25,326] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 11:14:25,046] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 11:14:25,057] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 11:14:25,370] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 11:14:25,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 11:14:25,432] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 11:14:25,463] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 11:14:25,466] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:14:25,467] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:14:25,475] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:14:25,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:14:25,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:14:25,476] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:14:25,476] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 11:14:25,478] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 11:18:25,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 11:18:25,036] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 11:18:25,724] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 11:18:25,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 11:18:25,762] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 11:18:25,786] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 11:18:25,788] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:18:25,788] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:18:25,796] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:18:25,796] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:18:25,797] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:18:25,797] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:18:25,797] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 11:18:25,799] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 11:38:26,297] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 11:38:26,308] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 11:38:26,602] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 11:38:26,680] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 11:38:26,682] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 11:38:26,710] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 11:38:26,713] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:38:26,713] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:38:26,722] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:38:26,722] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 11:38:26,723] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:38:26,723] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 11:38:26,723] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 11:38:26,725] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 12:01:27,288] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 12:01:27,298] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 12:01:28,141] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 12:01:28,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 12:01:28,183] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 12:01:28,238] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 12:01:28,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:01:28,259] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:01:28,276] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:01:28,276] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:01:28,277] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:01:28,277] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:01:28,277] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 12:01:28,279] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-17 12:35:19,899] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00907: 缺失右括号

[ERROR][2017-11-17 12:35:19,918] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00933: SQL 命令未正确结束

[ERROR][2017-11-17 12:35:19,932] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00933: SQL 命令未正确结束

[DEBUG][2017-11-17 12:35:35,685] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 12:35:35,705] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 12:35:35,974] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 12:35:36,027] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 12:35:36,030] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 12:35:36,067] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 12:35:36,069] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:35:36,070] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:35:36,077] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:35:36,077] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:35:36,078] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:35:36,078] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:35:36,079] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 12:35:36,081] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-17 12:35:43,821] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00907: 缺失右括号

[ERROR][2017-11-17 12:35:43,838] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00933: SQL 命令未正确结束

[ERROR][2017-11-17 12:35:43,853] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-00933: SQL 命令未正确结束

[DEBUG][2017-11-17 12:36:29,448] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 12:36:29,460] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 12:36:29,747] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 12:36:29,796] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 12:36:29,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 12:36:29,832] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 12:36:29,834] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:36:29,835] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:36:29,841] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:36:29,842] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:36:29,843] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:36:29,843] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:36:29,843] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 12:36:29,846] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 12:39:27,253] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 12:39:27,266] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 12:39:27,530] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 12:39:27,574] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 12:39:27,577] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 12:39:27,606] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 12:39:27,609] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:39:27,609] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:39:27,615] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:39:27,616] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 12:39:27,616] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:39:27,617] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 12:39:27,617] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 12:39:27,619] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 14:14:36,718] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 14:14:36,732] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 14:14:37,105] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 14:14:37,164] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 14:14:37,168] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 14:14:37,195] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') UNION SELECT T.ID ID,T.NO,'' AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 14:14:37,198] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:14:37,199] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:14:37,205] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 14:14:37,206] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 14:14:37,207] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:14:37,207] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:14:37,208] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 14:14:37,212] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 14:48:16,364] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 14:48:16,378] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 14:49:16,465] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 14:49:16,476] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 14:49:17,441] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 14:49:17,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 14:49:17,487] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 14:49:17,631] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 14:49:17,640] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:49:17,649] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:49:17,668] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 14:49:17,668] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 14:49:17,669] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:49:17,669] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 14:49:17,670] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 14:49:17,672] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:09:47,890] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:09:47,901] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:09:48,184] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:09:48,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:09:48,224] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:09:48,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:09:48,252] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:09:48,253] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:09:48,260] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:09:48,260] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:09:48,261] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:09:48,261] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:09:48,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:09:48,263] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:11:42,623] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:11:42,634] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:11:42,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:11:42,968] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:11:42,971] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:11:42,997] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:11:42,999] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:11:43,000] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:11:43,006] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:11:43,007] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:11:43,008] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:11:43,008] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:11:43,009] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:11:43,012] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:25:44,718] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:25:44,728] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:25:45,020] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:25:45,065] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:25:45,068] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:25:45,094] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:25:45,097] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:25:45,098] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:25:45,104] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:25:45,105] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:25:45,106] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:25:45,106] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:25:45,106] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:25:45,109] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:26:55,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:26:55,154] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:26:55,431] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:26:55,475] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:26:55,478] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:26:55,506] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:26:55,508] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:26:55,509] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:26:55,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:26:55,518] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:26:55,519] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:26:55,519] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:26:55,519] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:26:55,522] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:34:55,390] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:34:55,401] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:34:55,743] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:34:55,796] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:34:55,799] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:34:55,837] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:34:55,839] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:34:55,840] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:34:55,846] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:34:55,847] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:34:55,847] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:34:55,847] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:34:55,849] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:34:55,852] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:38:54,825] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 15:38:54,836] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 15:38:55,107] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 15:38:55,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 15:38:55,151] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 15:38:55,179] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 15:38:55,181] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:38:55,182] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:38:55,191] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:38:55,192] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 15:38:55,192] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:38:55,192] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 15:38:55,192] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 15:38:55,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 15:40:43,075] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-17 15:43:03,943] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-17 15:44:54,240] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-17 15:50:09,969] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-17 16:02:55,311] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:02:55,325] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:02:55,709] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:02:55,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:02:55,764] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:02:55,790] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:02:55,793] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:02:55,794] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:02:55,803] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:02:55,803] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:02:55,804] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:02:55,804] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:02:55,804] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:02:55,807] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:14:11,861] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-17 16:21:17,111] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:21:17,124] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:21:17,402] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:21:17,447] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:21:17,450] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:21:17,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:21:17,485] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:21:17,486] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:21:17,495] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:21:17,495] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:21:17,496] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:21:17,496] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:21:17,496] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:21:17,499] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:23:05,306] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:23:05,323] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:23:05,788] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:23:05,856] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:23:05,862] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:23:05,900] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:23:05,903] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:23:05,904] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:23:05,957] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:23:05,957] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:23:05,958] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:23:05,959] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:23:05,959] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:23:05,962] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:41:29,490] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:41:29,500] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:41:30,445] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:41:30,558] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:41:30,561] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:41:30,642] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:41:30,652] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:41:30,660] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:41:30,682] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:41:30,683] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:41:30,683] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:41:30,684] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:41:30,684] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:41:30,687] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:49:18,358] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:49:18,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:49:18,677] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:49:18,742] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:49:18,745] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:49:18,792] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:49:18,795] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:18,795] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:18,805] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:49:18,805] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:49:18,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:18,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:18,806] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:49:18,808] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:49:58,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:49:58,608] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:49:58,986] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:49:59,096] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:49:59,100] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:49:59,136] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:49:59,140] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:59,141] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:59,149] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:49:59,150] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:49:59,150] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:59,151] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:49:59,151] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:49:59,154] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:53:15,907] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:53:15,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:53:16,209] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:53:16,247] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:53:16,250] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:53:16,277] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:53:16,280] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:53:16,281] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:53:16,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:53:16,290] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:53:16,290] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:53:16,291] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:53:16,291] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:53:16,294] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 16:57:15,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 16:57:15,771] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 16:57:16,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 16:57:16,112] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 16:57:16,115] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 16:57:16,152] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 16:57:16,155] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:57:16,155] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:57:16,162] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:57:16,163] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 16:57:16,163] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:57:16,164] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 16:57:16,164] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 16:57:16,167] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 17:21:16,501] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 17:21:16,513] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 17:21:16,873] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 17:21:16,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 17:21:16,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 17:21:16,952] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 17:21:16,955] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:21:16,956] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:21:16,964] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 17:21:16,964] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 17:21:16,965] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:21:16,965] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:21:16,965] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 17:21:16,968] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-17 17:25:18,942] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 17:25:18,954] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 17:25:19,245] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 17:25:19,291] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 17:25:19,295] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 17:25:19,324] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 17:25:19,327] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:25:19,328] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:25:19,334] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 17:25:19,335] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 17:25:19,336] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:25:19,336] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 17:25:19,337] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 17:25:19,339] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-17 20:46:32,076] org.hibernate.transaction.JDBCTransaction.toggleAutoCommit(JDBCTransaction.java:228)
	Could not toggle autocommit
java.sql.SQLException: Connection has been administratively destroyed. Reconnect.
	at weblogic.jdbc.common.internal.ConnectionEnv.checkIfEnabled(ConnectionEnv.java:894)
	at weblogic.jdbc.wrapper.PoolConnection.checkConnection(PoolConnection.java:58)
	at weblogic.jdbc.wrapper.Connection.preInvocationHandler(Connection.java:93)
	at weblogic.jdbc.wrapper.PoolConnection.setAutoCommit(PoolConnection.java:137)
	at org.hibernate.transaction.JDBCTransaction.toggleAutoCommit(JDBCTransaction.java:224)
	at org.hibernate.transaction.JDBCTransaction.rollbackAndResetAutoCommit(JDBCTransaction.java:216)
	at org.hibernate.transaction.JDBCTransaction.rollback(JDBCTransaction.java:192)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doRollback(HibernateTransactionManager.java:677)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:846)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:823)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:405)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:114)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)
	at com.sinosoft.efiling.service.FileManualhandleService$$EnhancerByCGLIB$$26d594a.collect(<generated>)
	at com.sinosoft.efiling.struts2.action.FileManualhandleAction.collect(FileManualhandleAction.java:239)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:446)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:285)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[ERROR][2017-11-17 20:46:32,098] org.hibernate.transaction.JDBCTransaction.rollback(JDBCTransaction.java:198)
	JDBC rollback failed
java.sql.SQLException: Connection has been administratively destroyed. Reconnect.
	at weblogic.jdbc.common.internal.ConnectionEnv.checkIfEnabled(ConnectionEnv.java:894)
	at weblogic.jdbc.wrapper.PoolConnection.checkConnection(PoolConnection.java:58)
	at weblogic.jdbc.wrapper.Connection.preInvocationHandler(Connection.java:93)
	at weblogic.jdbc.wrapper.PoolConnection_oracle_jdbc_driver_T4CConnection.rollback(Unknown Source)
	at org.hibernate.transaction.JDBCTransaction.rollbackAndResetAutoCommit(JDBCTransaction.java:213)
	at org.hibernate.transaction.JDBCTransaction.rollback(JDBCTransaction.java:192)
	at org.springframework.orm.hibernate3.HibernateTransactionManager.doRollback(HibernateTransactionManager.java:677)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:846)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:823)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:405)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:114)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)
	at com.sinosoft.efiling.service.FileManualhandleService$$EnhancerByCGLIB$$26d594a.collect(<generated>)
	at com.sinosoft.efiling.struts2.action.FileManualhandleAction.collect(FileManualhandleAction.java:239)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:446)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:285)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[ERROR][2017-11-17 20:46:32,109] org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:408)
	Application exception overridden by rollback exception
java.lang.Error: Unresolved compilation problems: 
	visa cannot be resolved to a variable
	The method setVisaNo(String) in the type Document is not applicable for the arguments (Object)
	visa cannot be resolved to a variable
	Syntax error on tokens, delete these tokens

	at com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:160)
	at com.sinosoft.efiling.service.FileManualhandleService$$FastClassByCGLIB$$a3894b02.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)
	at com.sinosoft.efiling.service.FileManualhandleService$$EnhancerByCGLIB$$26d594a.collect(<generated>)
	at com.sinosoft.efiling.struts2.action.FileManualhandleAction.collect(FileManualhandleAction.java:239)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:446)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:285)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-17 20:48:32,156] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 20:48:32,165] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 20:48:33,617] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 20:48:33,831] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 20:48:33,835] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 20:48:34,049] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 20:48:34,060] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 20:48:34,069] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 20:48:34,092] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 20:48:34,093] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 20:48:34,093] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 20:48:34,094] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 20:48:34,094] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 20:48:34,096] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-17 20:53:20,975] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.NullPointerException
	at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:169)
	at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2863)
	at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2859)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1870)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 31 more
[DEBUG][2017-11-17 21:23:49,256] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-17 21:23:49,266] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-17 21:23:50,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-17 21:23:50,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-17 21:23:50,983] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-17 21:23:51,158] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-17 21:23:51,161] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 21:23:51,162] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 21:23:51,175] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 21:23:51,175] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-17 21:23:51,176] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 21:23:51,176] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-17 21:23:51,176] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-17 21:23:51,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
