[ERROR][2017-11-20 09:53:28,452] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	The method copy(String, FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	anotherDoc cannot be resolved to a variable
	anotherDoc cannot be resolved to a variable
	Syntax error on token "}", { expected after this token
	Syntax error on token "}", delete this token
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	The method save(FileIndex) is undefined for the type PaperLogDocument
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error, insert "}" to complete ClassBody

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:184)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:361)
	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)
	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)
	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)
	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)
	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)
	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)
	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:180)
	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:96)
	at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.sinosoft.efiling.service.FileManualhandleService]: Constructor threw exception; nested exception is java.lang.Error: Unresolved compilation problems: 
	The method copy(String, FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	anotherDoc cannot be resolved to a variable
	anotherDoc cannot be resolved to a variable
	Syntax error on token "}", { expected after this token
	Syntax error on token "}", delete this token
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	The method save(FileIndex) is undefined for the type PaperLogDocument
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error, insert "}" to complete ClassBody

	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 49 more
Caused by: java.lang.Error: Unresolved compilation problems: 
	The method copy(String, FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	The method save(FileIndex) is undefined for the type PaperLogDocument
	anotherDoc cannot be resolved to a variable
	anotherDoc cannot be resolved to a variable
	Syntax error on token "}", { expected after this token
	Syntax error on token "}", delete this token
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	The method save(FileIndex) is undefined for the type PaperLogDocument
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ")", ; expected
	Syntax error on token "(", ; expected
	Syntax error on token ",", ; expected
	Syntax error on token ")", ; expected
	Syntax error, insert "}" to complete ClassBody

	at com.sinosoft.efiling.service.FileManualhandleService.<init>(FileManualhandleService.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	... 51 more
[DEBUG][2017-11-20 10:23:52,330] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:23:52,364] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:23:52,765] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:23:52,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:23:52,850] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:23:53,034] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:23:53,100] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:23:53,154] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:23:53,188] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:23:53,189] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:23:53,190] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:23:53,190] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:23:53,191] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:23:53,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-20 10:24:39,365] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Exception occurred during processing request: Unable to instantiate Action, fileManualhandleAction,  defined for 'index' in namespace '/file/manualhandle'Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'paperLogDocumentService' of bean class [com.sinosoft.efiling.struts2.action.FileManualhandleAction]: Bean property 'paperLogDocumentService' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
Unable to instantiate Action, fileManualhandleAction,  defined for 'index' in namespace '/file/manualhandle'Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'paperLogDocumentService' of bean class [com.sinosoft.efiling.struts2.action.FileManualhandleAction]: Bean property 'paperLogDocumentService' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
	at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:312)
	at com.opensymphony.xwork2.DefaultActionInvocation.init(DefaultActionInvocation.java:393)
	at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:194)
	at org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
	at org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
	at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:534)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileManualhandleAction' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'paperLogDocumentService' of bean class [com.sinosoft.efiling.struts2.action.FileManualhandleAction]: Bean property 'paperLogDocumentService' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1427)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:314)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildAction(ObjectFactory.java:121)
	at com.opensymphony.xwork2.DefaultActionInvocation.createAction(DefaultActionInvocation.java:293)
	... 34 more
Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'paperLogDocumentService' of bean class [com.sinosoft.efiling.struts2.action.FileManualhandleAction]: Bean property 'paperLogDocumentService' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1042)
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:902)
	at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:75)
	at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1424)
	... 44 more
[DEBUG][2017-11-20 10:29:39,657] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:29:39,676] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:29:40,007] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:29:40,051] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:29:40,055] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:29:40,093] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:29:40,096] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:29:40,097] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:29:40,105] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:29:40,106] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:29:40,107] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:29:40,108] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:29:40,108] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:29:40,112] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 10:31:45,930] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:31:45,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:31:46,312] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:31:46,358] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:31:46,362] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:31:46,387] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:31:46,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:31:46,391] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:31:46,403] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:31:46,403] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:31:46,404] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:31:46,404] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:31:46,404] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:31:46,406] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 10:41:19,911] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:41:19,933] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:41:20,779] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:41:20,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:41:20,822] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:41:20,890] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:41:20,900] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:41:20,914] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:41:20,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:41:20,939] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:41:20,940] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:41:20,940] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:41:20,940] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:41:20,942] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 10:50:24,064] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:50:24,078] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:50:24,443] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:50:24,489] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:50:24,492] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:50:24,608] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:50:24,611] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:50:24,612] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:50:24,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:50:24,619] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:50:24,619] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:50:24,620] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:50:24,620] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:50:24,624] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 10:58:24,132] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 10:58:24,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 10:58:24,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 10:58:24,528] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 10:58:24,585] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 10:58:24,648] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 10:58:24,651] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:58:24,652] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:58:24,661] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:58:24,662] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 10:58:24,662] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:58:24,663] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 10:58:24,663] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 10:58:24,666] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:02:24,178] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:02:24,192] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:02:24,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:02:24,667] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:02:24,777] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:02:24,841] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:02:24,844] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:02:24,845] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:02:24,856] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:02:24,857] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:02:24,857] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:02:24,857] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:02:24,858] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:02:24,867] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:06:24,926] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:06:24,944] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:06:25,299] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:06:25,347] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:06:25,425] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:06:25,497] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:06:25,501] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:06:25,502] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:06:25,511] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:06:25,512] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:06:25,512] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:06:25,512] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:06:25,513] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:06:25,523] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:10:24,910] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:10:24,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:10:25,978] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:10:26,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:10:26,028] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:10:26,060] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:10:26,063] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:10:26,064] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:10:26,074] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:10:26,075] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:10:26,076] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:10:26,077] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:10:26,077] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:10:26,080] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:14:29,031] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:14:29,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:14:29,531] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:14:29,586] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:14:29,590] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:14:29,637] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:14:29,643] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:14:29,643] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:14:29,655] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:14:29,656] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:14:29,656] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:14:29,657] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:14:29,657] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:14:29,660] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:18:30,548] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:18:30,570] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:18:30,982] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:18:31,039] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:18:31,042] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:18:31,079] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:18:31,082] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:18:31,083] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:18:31,093] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:18:31,094] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:18:31,094] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:18:31,095] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:18:31,095] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:18:31,098] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:22:28,442] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:22:28,456] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:22:28,846] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:22:28,899] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:22:28,903] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:22:28,940] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:22:28,945] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:22:28,945] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:22:28,956] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:22:28,957] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:22:28,957] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:22:28,958] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:22:28,958] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:22:28,961] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:26:29,787] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:26:29,804] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:26:30,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:26:30,300] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:26:30,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:26:30,356] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:26:30,360] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:26:30,361] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:26:30,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:26:30,372] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:26:30,373] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:26:30,373] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:26:30,373] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:26:30,377] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:33:13,702] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:33:13,721] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:33:14,855] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:33:14,905] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:33:14,909] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:33:14,973] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:33:14,984] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:33:14,993] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:33:15,024] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:33:15,025] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:33:15,026] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:33:15,028] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:33:15,029] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:33:15,032] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:44:22,380] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:44:22,399] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:44:22,914] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:44:22,963] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:44:22,968] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:44:23,009] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:44:23,013] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:44:23,013] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:44:23,022] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:44:23,023] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:44:23,024] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:44:23,024] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:44:23,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:44:23,027] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:48:23,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:48:23,754] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:48:24,178] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:48:24,238] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:48:24,242] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:48:24,280] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:48:24,284] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:48:24,285] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:48:24,295] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:48:24,296] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:48:24,296] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:48:24,298] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:48:24,298] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:48:24,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:52:23,699] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:52:23,713] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:52:24,105] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:52:24,160] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:52:24,164] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:52:24,205] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:52:24,209] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:52:24,210] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:52:24,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:52:24,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:52:24,222] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:52:24,223] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:52:24,223] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:52:24,226] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 11:56:23,871] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 11:56:23,891] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 11:56:24,331] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 11:56:24,387] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 11:56:24,391] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 11:56:24,466] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 11:56:24,472] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:56:24,473] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:56:24,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:56:24,484] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 11:56:24,487] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:56:24,493] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 11:56:24,493] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 11:56:24,496] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 12:28:24,702] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 12:28:24,719] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 12:28:25,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 12:28:25,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 12:28:25,199] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 12:28:25,236] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 12:28:25,239] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:28:25,240] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:28:25,248] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:28:25,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:28:25,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:28:25,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:28:25,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 12:28:25,255] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 12:32:24,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 12:32:24,212] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 12:32:24,629] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 12:32:24,688] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 12:32:24,692] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 12:32:24,730] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 12:32:24,734] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:32:24,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:32:24,746] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:32:24,747] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:32:24,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:32:24,748] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:32:24,749] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 12:32:24,752] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 12:52:21,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 12:52:21,366] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 12:52:21,712] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 12:52:21,757] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 12:52:21,760] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 12:52:21,790] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 12:52:21,793] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:52:21,793] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:52:21,801] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:52:21,802] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 12:52:21,803] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:52:21,803] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 12:52:21,803] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 12:52:21,808] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-20 12:54:19,309] org.hibernate.util.xml.ErrorLogger.error(ErrorLogger.java:57)
	Error parsing XML (32) : The content of element type "class" must match "(meta*,subselect?,cache?,synchronize*,comment?,tuplizer*,(id|composite-id),discriminator?,natural-id?,(version|timestamp)?,(property|many-to-one|one-to-one|component|dynamic-component|properties|any|map|set|list|bag|idbag|array|primitive-array)*,((join*,subclass*)|joined-subclass*|union-subclass*),loader?,sql-insert?,sql-update?,sql-delete?,filter*,fetch-profile*,resultset*,(query|sql-query)*)".
[ERROR][2017-11-20 12:54:19,375] org.hibernate.util.xml.ErrorLogger.error(ErrorLogger.java:57)
	Error parsing XML (2) : The content of element type "class" must match "(meta*,subselect?,cache?,synchronize*,comment?,tuplizer*,(id|composite-id),discriminator?,natural-id?,(version|timestamp)?,(property|many-to-one|one-to-one|component|dynamic-component|properties|any|map|set|list|bag|idbag|array|primitive-array)*,((join*,subclass*)|joined-subclass*|union-subclass*),loader?,sql-insert?,sql-update?,sql-delete?,filter*,fetch-profile*,resultset*,(query|sql-query)*)".
[ERROR][2017-11-20 12:54:19,391] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is org.hibernate.InvalidMappingException: Unable to read XML
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:184)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:361)
	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)
	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)
	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)
	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)
	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)
	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)
	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:180)
	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:96)
	at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.hibernate.InvalidMappingException: Unable to read XML
	at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:101)
	at org.hibernate.cfg.Configuration.add(Configuration.java:513)
	at org.hibernate.cfg.Configuration.add(Configuration.java:509)
	at org.hibernate.cfg.Configuration.addFile(Configuration.java:504)
	at org.hibernate.cfg.Configuration.addDirectory(Configuration.java:929)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:713)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 48 more
Caused by: org.xml.sax.SAXParseException: The content of element type "class" must match "(meta*,subselect?,cache?,synchronize*,comment?,tuplizer*,(id|composite-id),discriminator?,natural-id?,(version|timestamp)?,(property|many-to-one|one-to-one|component|dynamic-component|properties|any|map|set|list|bag|idbag|array|primitive-array)*,((join*,subclass*)|joined-subclass*|union-subclass*),loader?,sql-insert?,sql-update?,sql-delete?,filter*,fetch-profile*,resultset*,(query|sql-query)*)".
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318)
	at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleEndElement(XMLDTDValidator.java:2017)
	at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.endElement(XMLDTDValidator.java:901)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2938)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at weblogic.xml.jaxp.WebLogicXMLReader.parse(WebLogicXMLReader.java:133)
	at weblogic.xml.jaxp.RegistryXMLReader.parse(RegistryXMLReader.java:173)
	at org.dom4j.io.SAXReader.read(SAXReader.java:465)
	at org.hibernate.util.xml.MappingReader.readMappingDocument(MappingReader.java:75)
	... 56 more
[DEBUG][2017-11-20 13:03:09,175] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:03:09,188] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:03:10,122] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:03:10,168] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:03:10,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:03:10,234] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:03:10,247] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:03:10,258] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:03:10,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:03:10,287] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:03:10,288] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:03:10,288] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:03:10,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:03:10,293] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:07:52,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:07:52,815] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:07:53,156] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:07:53,211] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:07:53,215] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:07:53,247] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:07:53,250] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:07:53,251] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:07:53,260] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:07:53,261] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:07:53,261] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:07:53,262] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:07:53,262] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:07:53,264] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:12:10,189] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:12:10,207] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:12:10,580] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:12:10,632] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:12:10,636] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:12:10,673] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:12:10,678] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:12:10,679] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:12:10,687] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:12:10,687] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:12:10,688] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:12:10,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:12:10,691] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:12:10,694] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:12:38,863] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:71)
	请求的单证号:1050001000000376
[DEBUG][2017-11-20 13:12:40,055] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:76)
	请求的单证号:1050001000000376,单证系统返回的数据:
[ERROR][2017-11-20 13:12:40,263] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-12899: 列 "DEVUSER"."T_F_PAPER_DOCUMENT_LOG"."ID" 的值太大 (实际值: 36, 最大值: 32)

[ERROR][2017-11-20 13:12:40,264] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-12899: 列 "DEVUSER"."T_F_PAPER_DOCUMENT_LOG"."ID" 的值太大 (实际值: 36, 最大值: 32)

[DEBUG][2017-11-20 13:13:35,747] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:13:35,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:13:36,120] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:13:36,171] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:13:36,175] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:13:36,211] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:13:36,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:13:36,216] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:13:36,225] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:13:36,226] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:13:36,226] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:13:36,227] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:13:36,227] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:13:36,230] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:15:12,026] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:15:12,042] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:15:12,379] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:15:12,437] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:15:12,441] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:15:12,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:15:12,472] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:15:12,473] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:15:12,482] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:15:12,482] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:15:12,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:15:12,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:15:12,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:15:12,486] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:15:25,325] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:71)
	请求的单证号:1050001000000376
[DEBUG][2017-11-20 13:15:25,654] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:76)
	请求的单证号:1050001000000376,单证系统返回的数据:
[DEBUG][2017-11-20 13:21:45,053] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:21:45,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:21:45,459] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:21:45,509] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:21:45,512] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:21:45,551] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:21:45,554] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:21:45,555] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:21:45,565] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:21:45,565] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:21:45,566] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:21:45,567] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:21:45,567] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:21:45,570] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:25:44,137] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:25:44,152] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:25:44,490] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:25:44,537] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:25:44,540] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:25:44,570] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:25:44,573] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:25:44,574] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:25:44,583] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:25:44,584] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:25:44,585] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:25:44,585] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:25:44,586] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:25:44,589] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:29:44,359] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:29:44,373] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:29:44,720] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:29:44,776] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:29:44,780] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:29:44,814] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:29:44,817] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:29:44,818] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:29:44,827] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:29:44,827] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:29:44,828] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:29:44,828] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:29:44,828] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:29:44,830] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:33:44,284] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:33:44,301] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:33:44,651] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:33:44,695] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:33:44,698] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:33:44,726] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:33:44,729] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:33:44,730] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:33:44,740] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:33:44,740] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:33:44,741] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:33:44,741] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:33:44,742] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:33:44,744] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 13:39:08,535] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:39:08,554] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:39:08,923] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:39:08,966] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:39:08,970] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:39:09,002] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:39:09,005] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:39:09,006] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:39:09,016] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:39:09,017] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:39:09,017] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:39:09,017] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:39:09,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:39:09,020] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-20 13:41:53,089] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator#0' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:741)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator]: Constructor threw exception; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	... 31 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.aop.framework.adapter.GlobalAdvisorAdapterRegistry.<clinit>(GlobalAdvisorAdapterRegistry.java:32)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.<init>(AbstractAutoProxyCreator.java:116)
	at org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator.<init>(BeanNameAutoProxyCreator.java:46)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:741)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
[DEBUG][2017-11-20 13:53:17,169] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 13:53:17,197] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 13:53:18,104] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 13:53:18,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 13:53:18,151] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 13:53:18,205] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 13:53:18,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:53:18,226] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:53:18,245] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:53:18,246] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 13:53:18,246] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:53:18,247] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 13:53:18,247] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 13:53:18,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 14:18:31,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 14:18:31,606] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 14:18:31,882] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 14:18:31,932] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 14:18:31,935] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 14:18:31,960] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 14:18:31,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:18:31,964] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:18:31,970] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:18:31,971] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:18:31,971] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:18:31,971] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:18:31,972] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 14:18:31,974] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 14:22:32,144] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 14:22:32,156] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 14:22:32,422] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 14:22:32,466] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 14:22:32,469] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 14:22:32,494] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 14:22:32,668] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:22:32,669] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:22:32,678] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:22:32,678] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:22:32,679] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:22:32,679] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:22:32,680] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 14:22:32,683] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 14:24:12,998] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 14:24:13,010] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 14:24:13,670] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 14:24:13,706] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 14:24:13,709] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 14:24:13,732] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 14:24:13,734] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:24:13,734] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:24:13,741] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:24:13,742] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:24:13,743] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:24:13,743] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:24:13,743] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 14:24:13,746] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 14:52:03,869] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 14:52:03,880] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 14:52:04,156] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 14:52:04,192] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 14:52:04,195] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 14:52:04,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 14:52:04,221] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:52:04,221] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:52:04,227] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:52:04,228] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:52:04,228] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:52:04,229] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:52:04,229] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 14:52:04,232] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 14:56:58,484] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 14:56:58,497] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 14:56:58,863] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 14:56:58,905] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 14:56:58,907] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 14:56:58,940] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 14:56:58,942] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:56:58,943] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:56:58,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:56:58,950] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 14:56:58,951] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:56:58,951] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 14:56:58,951] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 14:56:58,954] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 15:04:59,235] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 15:04:59,248] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 15:05:00,121] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 15:05:00,241] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 15:05:00,244] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 15:05:00,276] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 15:05:00,279] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:05:00,280] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:05:00,287] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:05:00,288] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:05:00,289] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:05:00,289] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:05:00,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 15:05:00,291] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 15:08:59,946] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 15:08:59,969] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 15:09:00,284] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 15:09:00,327] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 15:09:00,331] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 15:09:00,361] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 15:09:00,364] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:09:00,364] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:09:00,373] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:09:00,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:09:00,374] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:09:00,375] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:09:00,375] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 15:09:00,378] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 15:13:00,127] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 15:13:00,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 15:13:00,417] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 15:13:00,468] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 15:13:00,471] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 15:13:00,502] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 15:13:00,504] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:13:00,506] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:13:00,515] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:13:00,516] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:13:00,517] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:13:00,517] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:13:00,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 15:13:00,520] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 15:17:04,933] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 15:17:04,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 15:17:05,410] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 15:17:05,503] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 15:17:05,507] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 15:17:05,535] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 15:17:05,537] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:17:05,538] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:17:05,545] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:17:05,545] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 15:17:05,546] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:17:05,546] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 15:17:05,546] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 15:17:05,548] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-20 15:21:03,169] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.PrpcMaincovernote
java.lang.RuntimeException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:344)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.GeneratedConstructorAccessor904.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javassist.CannotCompileException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:169)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	... 55 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at sun.reflect.GeneratedMethodAccessor878.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.GeneratedConstructorAccessor904.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
[ERROR][2017-11-20 15:21:13,410] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.PrpPMain
java.lang.OutOfMemoryError: PermGen space
	at java.lang.Class.getDeclaredFields0(Native Method)
	at java.lang.Class.privateGetDeclaredFields(Class.java:2291)
	at java.lang.Class.getField0(Class.java:2618)
	at java.lang.Class.getField(Class.java:1518)
	at javassist.util.proxy.ProxyFactory.setField(ProxyFactory.java:352)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:341)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
[ERROR][2017-11-20 15:21:23,275] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.PrpPInsured
java.lang.RuntimeException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:344)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javassist.CannotCompileException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:169)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	... 56 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at sun.reflect.GeneratedMethodAccessor878.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
[ERROR][2017-11-20 15:21:42,964] org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:165)
	Javassist Enhancement failed: com.sinosoft.efiling.hibernate.entity.GradeTask
java.lang.RuntimeException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:344)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javassist.CannotCompileException: by java.lang.OutOfMemoryError: PermGen space
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:169)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	... 56 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at sun.reflect.GeneratedMethodAccessor878.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at javassist.util.proxy.FactoryHelper.toClass2(FactoryHelper.java:181)
	at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:163)
	at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:339)
	at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:314)
	at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:273)
	at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.getProxyFactory(JavassistLazyInitializer.java:162)
	at org.hibernate.proxy.pojo.javassist.JavassistProxyFactory.postInstantiate(JavassistProxyFactory.java:65)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:185)
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.<init>(AbstractEntityTuplizer.java:167)
	at org.hibernate.tuple.entity.PojoEntityTuplizer.<init>(PojoEntityTuplizer.java:77)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:105)
	at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:133)
	at org.hibernate.tuple.entity.EntityEntityModeToTuplizerMapping.<init>(EntityEntityModeToTuplizerMapping.java:80)
	at org.hibernate.tuple.entity.EntityMetamodel.<init>(EntityMetamodel.java:322)
	at org.hibernate.persister.entity.AbstractEntityPersister.<init>(AbstractEntityPersister.java:485)
	at org.hibernate.persister.entity.SingleTableEntityPersister.<init>(SingleTableEntityPersister.java:133)
	at org.hibernate.persister.PersisterFactory.createClassPersister(PersisterFactory.java:84)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:286)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
[DEBUG][2017-11-20 16:12:31,153] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 16:12:31,162] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 16:12:32,187] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 16:12:32,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 16:12:32,220] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 16:12:32,264] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 16:12:32,275] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:12:32,283] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:12:32,319] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 16:12:32,320] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 16:12:32,321] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:12:32,324] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:12:32,324] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 16:12:32,339] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 16:26:52,858] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-20 16:26:52,867] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-20 16:26:53,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-20 16:26:53,196] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-20 16:26:53,199] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-20 16:26:53,224] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-20 16:26:53,226] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:26:53,227] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:26:53,234] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 16:26:53,234] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-20 16:26:53,235] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:26:53,235] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-20 16:26:53,235] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-20 16:26:53,237] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-20 17:38:36,455] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:87)
	cancel webservice:http://10.132.21.29:8080/XMLOperation/services/XMLOperation;batchId=092AD60E-785A-4959-9ABB-604E95BC0AA3
[DEBUG][2017-11-20 17:38:38,203] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:94)
	update success:true
[ERROR][2017-11-20 17:52:03,367] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:594)
	扫描数据保存失败:参数错误,another.document(9105025000160001209000)与doc(9109145000140000181000)不一致!,
8109145000140000138000,visaNo=null;pageIndex=0,fileTypeId=008,fileTypeName=保单保险公司留存联
com.sinosoft.util.CustomException: 参数错误,another.document(9105025000160001209000)与doc(9109145000140000181000)不一致!
	at com.sinosoft.efiling.service.DocumentService.saveDocumentFileInternal(DocumentService.java:1020)
	at com.sinosoft.efiling.service.DocumentService.saveDocumentFile(DocumentService.java:1098)
	at com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:527)
	at com.sinosoft.efiling.service.FileScanService$$FastClassByCGLIB$$65813a13.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)
	at com.sinosoft.efiling.service.FileScanService$$EnhancerByCGLIB$$11d31aac.save(<generated>)
	at com.sinosoft.efiling.struts2.action.FileScanAction.update(FileScanAction.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:446)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:285)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-20 17:52:10,146] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:87)
	cancel webservice:http://10.132.21.29:8080/XMLOperation/services/XMLOperation;batchId=C6AA4100-02BE-4D0B-A970-DB2E42435CEA
[DEBUG][2017-11-20 17:52:10,195] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:94)
	update success:true
[DEBUG][2017-11-21 09:23:52,769] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 09:23:52,825] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 09:23:53,846] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 09:23:54,054] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 09:23:54,090] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 09:23:54,322] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 09:23:54,435] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 09:23:54,442] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 09:23:54,474] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 09:23:54,474] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 09:23:54,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 09:23:54,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 09:23:54,476] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 09:23:54,499] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 10:13:50,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 10:13:50,610] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 10:13:52,230] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 10:13:52,335] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 10:13:52,335] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 10:13:52,413] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 10:13:52,444] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 10:13:52,476] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 10:13:52,491] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 10:13:52,491] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 10:13:52,491] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 10:13:52,491] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 10:13:52,491] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 10:13:52,491] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:15:39,251] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:15:39,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:15:39,974] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:15:40,041] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:15:40,116] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:15:40,234] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:15:40,239] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:15:40,240] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:15:40,254] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:15:40,255] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:15:40,255] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:15:40,255] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:15:40,256] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:15:40,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:19:34,807] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:19:34,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:19:35,084] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:19:35,129] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:19:35,132] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:19:35,162] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:19:35,165] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:19:35,165] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:19:35,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:19:35,172] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:19:35,173] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:19:35,173] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:19:35,174] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:19:35,176] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:23:35,573] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:23:35,586] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:23:35,881] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:23:35,916] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:23:35,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:23:35,947] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:23:35,951] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:23:35,951] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:23:35,959] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:23:35,960] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:23:35,960] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:23:35,960] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:23:35,961] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:23:35,963] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:27:35,569] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:27:35,581] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:27:35,853] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:27:35,896] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:27:35,899] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:27:35,926] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:27:35,929] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:27:35,930] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:27:35,937] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:27:35,938] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:27:35,939] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:27:35,939] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:27:35,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:27:35,942] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:31:35,979] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:31:35,991] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:31:36,255] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:31:36,301] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:31:36,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:31:36,336] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:31:36,339] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:31:36,340] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:31:36,352] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:31:36,353] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:31:36,353] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:31:36,354] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:31:36,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:31:36,356] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:35:35,543] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:35:35,555] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:35:35,948] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:35:35,997] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:35:36,000] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:35:36,029] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:35:36,032] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:35:36,032] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:35:36,039] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:35:36,040] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:35:36,040] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:35:36,040] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:35:36,041] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:35:36,043] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:39:35,728] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:39:35,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:39:36,003] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:39:36,054] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:39:36,057] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:39:36,088] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:39:36,091] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:39:36,092] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:39:36,099] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:39:36,100] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:39:36,100] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:39:36,101] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:39:36,101] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:39:36,103] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:43:35,620] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:43:35,629] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:43:35,909] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:43:35,949] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:43:35,953] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:43:35,980] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:43:35,982] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:43:35,983] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:43:35,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:43:35,991] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:43:35,991] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:43:35,991] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:43:35,992] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:43:35,994] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 13:51:37,573] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 13:51:37,586] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 13:51:37,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 13:51:37,969] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 13:51:37,973] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 13:51:38,009] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 13:51:38,011] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:51:38,012] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:51:38,021] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:51:38,021] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 13:51:38,022] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:51:38,022] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 13:51:38,023] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 13:51:38,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-21 13:58:32,409] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.hibernate.persister.PersisterFactory.createCollectionPersister(PersisterFactory.java:104)
	at org.hibernate.impl.SessionFactoryImpl.<init>(SessionFactoryImpl.java:307)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1872)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:863)
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:782)
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
[FATAL][2017-11-21 13:58:34,249] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.fatal(CommonsLogger.java:89)
	Error creating bean with name 'sessionFactory' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: PermGen space
[ERROR][2017-11-21 13:58:34,285] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Conversion registration error
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.createTypeConverter(XWorkConverter.java:766)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:799)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:779)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.setObjectFactory(XWorkConverter.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:514)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:524)
	at com.opensymphony.xwork2.inject.ContainerImpl$9.call(ContainerImpl.java:555)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:553)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:232)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[ERROR][2017-11-21 13:58:34,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Dispatcher initialization failed
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.getClassInstance(SpringObjectFactory.java:230)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.verifyResultType(XmlConfigurationProvider.java:592)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addResultTypes(XmlConfigurationProvider.java:563)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:519)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadPackages(XmlConfigurationProvider.java:290)
	at org.apache.struts2.config.StrutsXmlConfigurationProvider.loadPackages(StrutsXmlConfigurationProvider.java:112)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:239)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-21 14:00:29,173] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:00:29,194] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:00:29,998] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:00:30,032] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:00:30,035] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:00:30,077] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:00:30,086] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:00:30,094] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:00:30,117] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:00:30,117] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:00:30,118] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:00:30,119] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:00:30,119] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:00:30,121] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:07:03,828] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:07:03,840] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:07:04,131] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:07:04,170] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:07:04,173] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:07:04,202] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:07:04,205] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:07:04,206] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:07:04,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:07:04,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:07:04,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:07:04,215] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:07:04,215] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:07:04,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:11:04,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:11:04,233] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:11:04,522] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:11:04,567] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:11:04,571] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:11:04,597] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:11:04,599] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:11:04,600] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:11:04,609] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:11:04,609] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:11:04,610] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:11:04,610] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:11:04,611] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:11:04,613] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:15:03,873] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:15:03,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:15:04,170] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:15:04,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:15:04,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:15:04,241] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:15:04,244] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:15:04,245] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:15:04,253] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:15:04,254] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:15:04,254] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:15:04,255] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:15:04,255] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:15:04,258] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:19:04,300] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:19:04,311] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:19:04,572] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:19:04,615] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:19:04,618] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:19:04,643] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:19:04,647] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:19:04,647] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:19:04,655] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:19:04,656] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:19:04,659] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:19:04,659] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:19:04,660] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:19:04,662] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:23:04,548] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:23:04,562] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:23:04,818] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:23:04,863] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:23:04,866] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:23:04,891] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:23:04,894] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:23:04,894] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:23:04,901] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:23:04,902] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:23:04,903] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:23:04,903] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:23:04,903] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:23:04,905] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:27:04,564] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:27:04,578] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:27:05,392] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:27:05,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:27:05,431] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:27:05,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:27:05,463] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:27:05,464] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:27:05,474] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:27:05,474] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:27:05,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:27:05,475] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:27:05,476] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:27:05,478] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:30:25,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:30:25,934] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:30:26,259] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:30:26,304] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:30:26,307] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:30:26,432] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:30:26,434] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:30:26,435] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:30:26,441] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:30:26,443] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:30:26,443] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:30:26,443] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:30:26,444] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:30:26,449] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:47:35,176] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:47:35,188] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:47:35,449] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:47:35,490] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:47:35,493] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:47:35,521] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:47:35,523] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:47:35,524] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:47:35,531] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:47:35,531] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:47:35,532] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:47:35,532] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:47:35,532] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:47:35,534] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:51:36,236] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:51:36,272] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:51:36,536] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:51:36,580] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:51:36,583] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:51:36,609] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:51:36,611] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:51:36,612] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:51:36,621] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:51:36,621] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:51:36,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:51:36,622] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:51:36,623] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:51:36,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 14:57:51,480] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 14:57:51,492] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 14:57:52,390] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 14:57:52,423] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 14:57:52,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 14:57:52,472] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 14:57:52,480] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:57:52,486] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:57:52,521] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:57:52,521] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 14:57:52,522] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:57:52,522] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 14:57:52,523] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 14:57:52,525] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:05:30,672] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:05:30,685] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:05:30,968] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:05:31,013] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:05:31,017] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:05:31,044] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:05:31,047] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:05:31,048] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:05:31,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:05:31,059] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:05:31,060] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:05:31,061] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:05:31,061] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:05:31,064] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:12:20,432] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:12:20,447] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:12:20,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:12:20,784] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:12:20,787] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:12:20,811] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:12:20,814] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:12:20,815] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:12:20,824] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:12:20,825] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:12:20,827] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:12:20,827] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:12:20,827] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:12:21,229] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:16:21,367] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:16:21,380] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:16:21,652] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:16:21,785] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:16:21,788] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:16:21,826] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:16:21,830] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:16:21,830] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:16:21,841] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:16:21,842] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:16:21,843] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:16:21,843] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:16:21,844] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:16:21,847] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:18:04,660] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:18:04,671] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:18:04,945] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:18:04,990] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:18:04,992] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:18:05,025] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:18:05,030] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:18:05,031] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:18:05,037] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:18:05,038] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:18:05,039] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:18:05,039] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:18:05,039] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:18:05,041] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:24:21,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:24:21,276] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:24:21,568] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:24:21,611] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:24:21,614] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:24:21,644] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:24:21,696] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:24:21,697] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:24:21,705] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:24:21,706] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:24:21,706] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:24:21,706] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:24:21,707] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:24:21,709] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:26:35,303] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:26:35,316] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:26:35,599] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:26:35,647] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:26:35,649] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:26:35,675] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:26:35,678] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:26:35,678] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:26:35,689] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:26:35,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:26:35,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:26:35,695] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:26:35,695] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:26:35,698] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:30:40,619] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:30:40,633] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:30:40,908] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:30:40,948] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:30:40,951] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:30:40,975] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:30:40,977] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:30:40,978] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:30:40,985] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:30:40,986] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:30:40,986] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:30:40,987] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:30:40,987] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:30:40,989] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:32:46,526] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:32:46,537] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:32:46,805] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:32:46,857] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:32:46,861] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:32:46,905] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:32:46,908] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:32:46,908] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:32:46,913] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:32:46,914] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:32:46,914] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:32:46,915] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:32:46,915] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:32:46,917] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-21 15:36:01,335] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Cannot resolve reference to bean 'documentAuditService' while setting bean property 'documentAuditService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentAuditService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'documentAuditService' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Instantiation of bean failed; nested exception is java.lang.OutOfMemoryError: PermGen space
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1011)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)
	... 34 more
Caused by: java.lang.OutOfMemoryError: PermGen space
	at java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)
	at java.lang.Class.getConstructor0(Class.java:2699)
	at java.lang.Class.getDeclaredConstructor(Class.java:1985)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:78)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1004)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:957)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:490)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
[DEBUG][2017-11-21 15:37:20,116] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:37:20,126] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:37:21,051] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:37:21,111] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:37:21,115] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:37:21,350] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:37:21,359] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:37:21,366] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:37:21,389] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:37:21,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:37:21,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:37:21,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:37:21,391] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:37:21,395] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:47:20,706] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:47:20,716] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:47:20,969] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:47:21,016] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:47:21,019] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:47:21,044] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:47:21,047] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:47:21,047] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:47:21,056] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:47:21,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:47:21,056] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:47:21,057] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:47:21,057] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:47:21,059] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:50:17,959] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:50:17,972] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:50:18,286] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:50:18,327] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:50:18,330] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:50:18,359] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:50:18,362] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:50:18,363] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:50:18,370] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:50:18,371] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:50:18,372] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:50:18,372] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:50:18,372] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:50:18,375] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 15:58:15,026] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 15:58:15,038] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 15:58:15,321] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 15:58:15,359] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 15:58:15,361] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 15:58:15,385] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 15:58:15,387] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:58:15,388] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:58:15,396] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:58:15,397] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 15:58:15,397] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:58:15,398] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 15:58:15,398] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 15:58:15,400] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:10:17,282] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:10:17,292] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:10:17,567] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:10:17,611] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:10:17,614] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:10:17,638] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:10:17,641] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:10:17,641] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:10:17,648] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:10:17,649] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:10:17,650] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:10:17,650] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:10:17,650] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:10:17,652] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:26:16,741] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:26:16,753] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:26:17,039] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:26:17,092] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:26:17,095] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:26:17,123] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:26:17,126] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:26:17,126] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:26:17,136] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:26:17,136] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:26:17,137] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:26:17,137] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:26:17,137] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:26:17,139] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:42:16,327] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:42:16,341] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:42:16,708] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:42:16,881] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:42:16,885] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:42:16,916] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:42:16,918] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:42:16,919] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:42:16,924] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:42:16,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:42:16,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:42:16,925] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:42:16,926] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:42:16,928] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:47:19,870] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:47:19,881] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:47:20,872] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:47:20,938] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:47:20,941] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:47:20,995] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:47:21,003] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:47:21,011] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:47:21,028] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:47:21,029] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:47:21,029] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:47:21,030] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:47:21,030] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:47:21,032] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:54:29,174] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:54:29,187] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:54:29,454] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:54:29,500] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:54:29,503] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:54:29,527] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:54:29,529] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:54:29,529] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:54:29,538] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:54:29,539] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:54:29,539] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:54:29,539] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:54:29,540] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:54:29,541] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 16:55:57,764] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 16:55:57,776] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 16:55:58,627] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 16:55:58,664] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 16:55:58,667] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 16:55:58,717] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 16:55:58,725] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:55:58,732] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:55:58,749] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:55:58,749] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 16:55:58,749] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:55:58,750] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 16:55:58,750] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 16:55:58,752] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:00:43,927] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:64)
	请求的单证号:9105021100160003333000
[DEBUG][2017-11-21 17:00:45,511] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:70)
	请求的单证号:9105021100160003333000,单证系统返回的数据:
[DEBUG][2017-11-21 17:05:51,914] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:05:51,927] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:05:52,183] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:05:52,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:05:52,222] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:05:52,246] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:05:52,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:05:52,249] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:05:52,257] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:05:52,257] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:05:52,258] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:05:52,258] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:05:52,258] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:05:52,261] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:09:51,639] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:09:51,650] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:09:51,925] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:09:51,970] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:09:51,974] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:09:52,001] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:09:52,004] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:09:52,005] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:09:52,014] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:09:52,014] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:09:52,015] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:09:52,015] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:09:52,016] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:09:52,018] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-21 17:12:19,563] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Exception occurred during processing request: There is no Action mapped for namespace [/file/manualhandle] and action name [cancelDetail] associated with context path [/eFiling].
There is no Action mapped for namespace [/file/manualhandle] and action name [cancelDetail] associated with context path [/eFiling]. - [unknown location]
	at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)
	at org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
	at org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
	at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:534)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-21 17:19:22,200] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:19:22,209] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:19:22,458] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:19:22,501] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:19:22,504] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:19:22,528] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:19:22,530] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:19:22,531] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:19:22,537] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:19:22,538] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:19:22,538] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:19:22,538] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:19:22,539] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:19:22,541] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:31:42,931] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:31:42,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:31:43,232] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:31:43,298] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:31:43,301] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:31:43,330] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:31:43,334] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:31:43,335] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:31:43,343] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:31:43,344] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:31:43,344] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:31:43,345] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:31:43,345] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:31:43,348] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:42:40,723] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:42:40,734] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:42:40,996] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:42:41,076] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:42:41,080] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:42:41,108] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:42:41,111] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:42:41,111] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:42:41,117] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:42:41,118] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:42:41,118] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:42:41,119] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:42:41,119] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:42:41,121] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:46:40,022] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:46:40,033] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:46:40,290] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:46:40,331] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:46:40,333] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:46:40,357] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:46:40,359] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:46:40,360] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:46:40,367] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:46:40,367] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:46:40,368] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:46:40,368] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:46:40,369] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:46:40,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:50:40,314] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:50:40,328] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:50:40,652] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:50:40,693] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:50:40,696] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:50:40,728] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:50:40,731] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:50:40,731] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:50:40,739] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:50:40,740] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:50:40,741] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:50:40,741] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:50:40,741] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:50:40,743] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:54:40,244] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:54:40,254] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:54:41,125] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:54:41,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:54:41,174] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:54:41,198] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:54:41,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:54:41,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:54:41,209] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:54:41,209] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:54:41,210] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:54:41,210] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:54:41,210] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:54:41,212] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 17:58:47,034] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 17:58:47,047] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 17:58:47,452] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 17:58:47,554] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 17:58:47,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 17:58:47,582] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 17:58:47,585] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:58:47,585] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:58:47,593] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:58:47,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 17:58:47,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:58:47,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 17:58:47,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 17:58:47,597] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-21 18:00:36,145] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:324)
	Context initialization failed
java.lang.OutOfMemoryError: PermGen space
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
	at weblogic.utils.classloaders.GenericClassLoader.defineClass(GenericClassLoader.java:328)
	at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:285)
	at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:253)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:56)
	at weblogic.utils.classloaders.ChangeAwareClassLoader.loadClass(ChangeAwareClassLoader.java:42)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.<init>(XmlBeanDefinitionReader.java:123)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:83)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.reloadServletClassLoader(WebAppServletContext.java:3078)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:63)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:104)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
[DEBUG][2017-11-21 18:03:20,030] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:03:20,042] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:03:21,110] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:03:21,143] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:03:21,146] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:03:21,188] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:03:21,195] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:03:21,201] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:03:21,215] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:03:21,216] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:03:21,216] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:03:21,216] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:03:21,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:03:21,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 18:25:25,626] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:25:25,634] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:25:25,874] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:25:25,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:25:25,922] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:25:25,947] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:25:25,952] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:25:25,953] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:25:25,961] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:25:25,961] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:25:25,964] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:25:25,965] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:25:25,965] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:25:25,967] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 18:28:25,352] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:28:25,361] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:28:25,608] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:28:25,653] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:28:25,656] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:28:25,680] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:28:25,683] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:28:25,683] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:28:25,690] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:28:25,690] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:28:25,691] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:28:25,691] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:28:25,691] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:28:25,693] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 18:32:34,362] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:32:34,372] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:32:34,627] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:32:34,681] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:32:34,684] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:32:34,718] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:32:34,721] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:32:34,721] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:32:34,727] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:32:34,727] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:32:34,728] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:32:34,728] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:32:34,728] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:32:34,730] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 18:37:26,613] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:37:26,623] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:37:26,883] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:37:26,936] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:37:26,939] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:37:27,061] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:37:27,064] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:37:27,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:37:27,073] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:37:27,073] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:37:27,074] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:37:27,074] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:37:27,075] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:37:27,077] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 18:56:37,225] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 18:56:37,242] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 18:56:37,519] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 18:56:37,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 18:56:37,560] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 18:56:37,590] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 18:56:37,593] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:56:37,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:56:37,602] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:56:37,603] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 18:56:37,603] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:56:37,604] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 18:56:37,604] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 18:56:37,607] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-21 19:03:46,628] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-21 19:03:54,752] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:03:54,805] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:03:55,222] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:03:55,273] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:03:55,277] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:03:55,352] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT * FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT * FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO OR T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:03:55,355] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:03:55,355] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:03:55,364] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:03:55,365] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:03:55,366] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:03:55,366] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:03:55,367] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:03:55,369] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:22:43,952] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:22:43,962] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:22:44,948] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:22:44,994] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:22:44,996] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:22:45,043] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:22:45,191] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:22:45,197] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:22:45,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:22:45,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:22:45,215] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:22:45,215] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:22:45,215] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:22:45,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:26:34,132] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:26:34,143] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:26:34,387] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:26:34,431] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:26:34,434] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:26:34,459] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:26:34,461] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:26:34,462] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:26:34,468] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:26:34,468] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:26:34,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:26:34,469] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:26:34,470] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:26:34,472] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:26:38,992] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:71)
	请求的单证号:51711000000704
[DEBUG][2017-11-21 19:26:39,957] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:77)
	请求的单证号:51711000000704,单证系统返回的数据:
[DEBUG][2017-11-21 19:28:24,092] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:71)
	请求的单证号:51711000000702
[DEBUG][2017-11-21 19:28:24,135] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:77)
	请求的单证号:51711000000702,单证系统返回的数据:
[DEBUG][2017-11-21 19:33:06,060] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:33:06,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:33:06,336] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:33:06,373] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:33:06,376] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:33:06,402] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:33:06,405] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:33:06,405] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:33:06,413] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:33:06,413] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:33:06,414] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:33:06,414] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:33:06,414] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:33:06,416] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:37:05,588] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:37:05,597] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:37:05,862] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:37:05,916] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:37:05,919] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:37:05,954] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:37:05,956] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:37:05,957] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:37:05,963] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:37:05,963] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:37:05,964] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:37:05,965] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:37:05,965] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:37:05,967] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:41:05,437] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:41:05,449] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:41:06,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:41:06,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:41:06,182] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:41:06,207] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:41:06,209] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:41:06,210] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:41:06,217] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:41:06,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:41:06,218] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:41:06,219] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:41:06,219] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:41:06,221] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:44:57,465] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:44:57,476] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:44:57,726] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:44:57,770] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:44:57,772] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:44:57,796] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:44:57,799] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:44:57,799] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:44:57,805] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:44:57,805] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:44:57,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:44:57,806] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:44:57,806] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:44:57,808] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:45:15,406] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:74)
	请求的单证号:51711000000701
[DEBUG][2017-11-21 19:45:16,850] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:80)
	请求的单证号:51711000000701,单证系统返回的数据:
[DEBUG][2017-11-21 19:54:22,253] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:54:22,264] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:54:22,510] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:54:22,549] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:54:22,551] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:54:22,575] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:54:22,578] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:54:22,579] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:54:22,585] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:54:22,586] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:54:22,587] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:54:22,587] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:54:22,587] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:54:22,589] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 19:54:53,906] com.sinosoft.efiling.service.FileManualhandleService.revoke(FileManualhandleService.java:467)
	请求的单证号:51711000000701
[DEBUG][2017-11-21 19:55:02,176] com.sinosoft.efiling.service.FileManualhandleService.revoke(FileManualhandleService.java:472)
	请求的单证号:51711000000701,单证系统返回的数据:
[DEBUG][2017-11-21 19:56:25,588] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 19:56:25,597] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 19:56:25,844] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 19:56:25,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 19:56:25,994] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 19:56:26,027] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 19:56:26,030] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:56:26,031] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:56:26,037] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:56:26,037] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 19:56:26,038] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:56:26,038] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 19:56:26,038] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 19:56:26,040] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 21:40:49,021] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 21:40:49,031] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 21:40:50,190] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 21:40:50,391] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 21:40:50,395] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 21:40:50,610] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 21:40:50,620] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 21:40:50,628] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 21:40:50,651] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 21:40:50,651] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 21:40:50,652] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 21:40:50,652] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 21:40:50,653] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 21:40:50,827] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 22:28:37,606] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 22:28:37,616] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 22:28:38,179] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 22:28:38,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 22:28:38,375] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 22:28:39,049] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 22:28:39,053] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 22:28:39,054] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 22:28:39,063] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 22:28:39,063] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 22:28:39,064] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 22:28:39,064] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 22:28:39,065] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 22:28:39,067] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-21 23:49:18,597] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-21 23:49:18,611] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-21 23:49:19,157] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-21 23:49:19,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-21 23:49:19,358] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-21 23:49:19,542] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-21 23:49:19,545] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 23:49:19,546] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 23:49:19,555] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 23:49:19,556] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-21 23:49:19,556] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 23:49:19,557] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-21 23:49:19,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-21 23:49:19,560] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 00:01:18,785] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 00:01:18,801] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 00:01:19,358] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 00:01:19,553] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 00:01:19,557] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 00:01:19,731] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 00:01:19,734] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:01:19,735] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:01:19,741] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:01:19,742] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:01:19,742] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:01:19,742] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:01:19,743] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 00:01:19,745] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 00:05:19,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 00:05:19,609] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 00:05:20,169] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 00:05:20,368] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 00:05:20,371] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 00:05:20,548] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 00:05:20,554] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:05:20,554] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:05:20,562] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:05:20,562] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:05:20,564] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:05:20,564] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:05:20,564] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 00:05:20,567] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 00:06:53,841] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 00:06:53,854] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 00:06:54,425] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 00:06:54,621] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 00:06:54,625] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 00:06:54,807] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 00:06:54,812] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:06:54,813] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:06:54,821] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:06:54,822] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 00:06:54,822] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:06:54,823] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 00:06:54,823] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 00:06:54,826] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 09:26:42,228] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 09:26:42,241] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 09:26:43,008] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 09:26:43,184] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 09:26:43,188] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 09:26:43,361] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 09:26:43,408] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 09:26:43,414] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 09:26:43,428] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 09:26:43,428] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 09:26:43,429] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 09:26:43,429] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 09:26:43,430] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 09:26:43,432] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 10:03:20,233] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 10:03:20,244] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 10:03:20,490] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 10:03:20,539] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 10:03:20,542] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 10:03:20,570] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 10:03:20,573] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:03:20,574] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:03:20,580] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:03:20,580] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:03:20,580] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:03:20,583] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:03:20,584] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 10:03:20,586] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 10:04:33,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 10:04:33,809] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 10:04:34,069] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 10:04:34,105] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 10:04:34,108] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 10:04:34,141] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 10:04:34,144] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:04:34,144] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:04:34,156] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:04:34,156] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:04:34,157] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:04:34,158] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:04:34,159] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 10:04:34,161] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-22 10:06:15,817] org.hibernate.util.JDBCExceptionReporter.logExceptions(JDBCExceptionReporter.java:234)
	ORA-01756: 引号内的字符串没有正确结束

[DEBUG][2017-11-22 10:06:44,775] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 10:06:44,786] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 10:06:45,038] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 10:06:45,094] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 10:06:45,097] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 10:06:45,128] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 10:06:45,130] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:06:45,131] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:06:45,136] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:06:45,136] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 10:06:45,137] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:06:45,137] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 10:06:45,137] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 10:06:45,139] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-22 11:19:06,025] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Exception occurred during processing request: There is no Action mapped for namespace [/file/manualhandle] and action name [viewlog] associated with context path [/eFiling].
There is no Action mapped for namespace [/file/manualhandle] and action name [viewlog] associated with context path [/eFiling]. - [unknown location]
	at com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)
	at org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
	at org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
	at com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:534)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-22 11:23:20,845] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 11:23:20,861] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 11:23:21,122] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 11:23:21,172] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 11:23:21,175] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 11:23:21,202] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 11:23:21,205] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 11:23:21,206] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 11:23:21,213] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 11:23:21,213] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 11:23:21,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 11:23:21,214] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 11:23:21,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 11:23:21,216] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 12:55:20,584] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 12:55:20,600] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 12:55:20,896] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 12:55:20,951] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 12:55:20,954] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 12:55:20,992] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 12:55:20,994] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:55:20,995] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:55:21,000] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 12:55:21,001] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 12:55:21,002] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:55:21,002] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:55:21,002] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 12:55:21,004] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 12:59:21,339] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 12:59:21,354] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 12:59:21,641] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 12:59:21,691] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 12:59:21,694] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 12:59:21,719] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 12:59:21,721] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:59:21,722] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:59:21,728] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 12:59:21,728] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 12:59:21,729] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:59:21,729] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 12:59:21,729] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 12:59:21,731] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 13:03:22,543] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 13:03:22,556] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 13:03:22,829] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 13:03:22,874] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 13:03:22,878] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 13:03:22,902] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 13:03:22,905] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:03:22,905] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:03:22,915] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:03:22,915] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:03:22,916] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:03:22,917] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:03:22,917] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 13:03:22,920] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 13:07:22,214] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 13:07:22,224] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 13:07:22,507] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 13:07:22,549] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 13:07:22,551] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 13:07:22,579] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 13:07:22,582] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:07:22,583] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:07:22,589] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:07:22,589] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:07:22,590] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:07:22,590] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:07:22,590] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 13:07:22,592] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 13:08:50,110] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 13:08:50,121] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 13:08:50,986] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 13:08:51,026] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 13:08:51,029] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 13:08:51,087] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 13:08:51,098] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:08:51,106] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:08:51,125] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:08:51,126] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:08:51,126] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:08:51,126] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:08:51,126] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 13:08:51,129] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 13:24:01,183] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 13:24:01,196] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 13:24:01,455] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 13:24:01,501] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 13:24:01,504] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 13:24:01,527] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 13:24:01,529] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:24:01,530] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:24:01,536] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:24:01,536] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 13:24:01,537] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:24:01,537] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 13:24:01,538] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 13:24:01,540] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 15:07:14,982] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:82)
	请求的单证号:1150000000005
[DEBUG][2017-11-22 15:07:16,506] com.sinosoft.efiling.service.FileManualhandleService.collect(FileManualhandleService.java:88)
	请求的单证号:1150000000005,单证系统返回的数据:
[DEBUG][2017-11-22 15:17:27,514] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:87)
	cancel webservice:http://10.132.21.29:8080/XMLOperation/services/XMLOperation;batchId=6E0D30DF-04E6-4D67-B142-A9FD42EE6DAC
[DEBUG][2017-11-22 15:17:29,351] com.ecm.webservice.ECMWebServiceHelper.cancel(ECMWebServiceHelper.java:94)
	update success:true
[DEBUG][2017-11-22 15:17:37,343] com.sinosoft.efiling.service.FileScanService.save(FileScanService.java:581)
	请求的单证号:
[DEBUG][2017-11-22 16:19:06,099] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 16:19:06,111] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 16:19:06,435] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 16:19:06,486] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 16:19:06,489] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 16:19:06,515] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT T.ID ID,T.NO,T.VISA_NO AS VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,'' AS VISASTATUS, '' AS VISACODE,'' AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE NOT EXISTS (SELECT COUNT(1) FROM VSMARK V WHERE T.NO = V.BUSINESSNO AND V.VISASTATUS IN('04','05','06')) UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.BUSINESSNO) AND NOT EXISTS(SELECT COUNT(1) FROM T_F_DOCUMENT T WHERE T.NO = V.VISASERIALNO)), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 16:19:06,518] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 16:19:06,518] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 16:19:06,527] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 16:19:06,527] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 16:19:06,528] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 16:19:06,539] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 16:19:06,539] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 16:19:06,542] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 17:23:45,325] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:23:45,337] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:23:46,276] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:23:46,334] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:23:46,337] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:23:46,394] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:23:46,404] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:23:46,577] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:23:46,592] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:23:46,593] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:23:46,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:23:46,594] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:23:46,595] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:23:46,597] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 17:38:28,632] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:38:28,646] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:38:28,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:38:28,995] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:38:28,999] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:38:29,029] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:38:29,032] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:38:29,034] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:38:29,043] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:38:29,044] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:38:29,044] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:38:29,045] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:38:29,045] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:38:29,048] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-22 17:40:03,260] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	There was an exception while instantiating the result of type org.apache.struts2.dispatcher.ServletDispatcherResult
java.lang.IllegalStateException: BeanFactory not initialized or already closed - call 'refresh' before accessing beans via the ApplicationContext
	at org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory(AbstractRefreshableApplicationContext.java:171)
	at org.springframework.context.support.AbstractApplicationContext.containsBean(AbstractApplicationContext.java:1133)
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.ObjectFactory.buildResult(ObjectFactory.java:228)
	at com.opensymphony.xwork2.DefaultActionInvocation.createResult(DefaultActionInvocation.java:214)
	at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:361)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:271)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:238)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at com.sinosoft.util.struts2.intercepter.CreateEntityIntercepter.doIntercept(CreateEntityIntercepter.java:28)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:242)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:544)
	at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:233)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:143)
	at com.sinosoft.efiling.util.UserSessionFilter.doFilter(UserSessionFilter.java:109)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.AssertionThreadLocalFilter.doFilter(AssertionThreadLocalFilter.java:40)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.util.HttpServletRequestWrapperFilter.doFilter(HttpServletRequestWrapperFilter.java:62)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:167)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at com.sinosoft.util.cas.AuthenticationFilter.doFilter(AuthenticationFilter.java:152)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)
	at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3684)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[FATAL][2017-11-22 17:40:11,177] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.fatal(CommonsLogger.java:89)
	********** FATAL ERROR STARTING UP STRUTS-SPRING INTEGRATION **********
Looks like the Spring listener was not configured for your web app! 
Nothing will work until WebApplicationContextUtils returns a valid ApplicationContext.
You might need to add the following to web.xml: 
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>
[ERROR][2017-11-22 17:40:11,203] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Conversion registration error
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.buildBean(SpringObjectFactory.java:150)
	at com.opensymphony.xwork2.ObjectFactory.buildBean(ObjectFactory.java:151)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.createTypeConverter(XWorkConverter.java:766)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:799)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.loadConversionProperties(XWorkConverter.java:779)
	at com.opensymphony.xwork2.conversion.impl.XWorkConverter.setObjectFactory(XWorkConverter.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl$ParameterInjector.inject(ContainerImpl.java:469)
	at com.opensymphony.xwork2.inject.ContainerImpl.getParameters(ContainerImpl.java:484)
	at com.opensymphony.xwork2.inject.ContainerImpl.access$000(ContainerImpl.java:34)
	at com.opensymphony.xwork2.inject.ContainerImpl$MethodInjector.inject(ContainerImpl.java:299)
	at com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector.construct(ContainerImpl.java:438)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:499)
	at com.opensymphony.xwork2.inject.ContainerImpl$7.call(ContainerImpl.java:539)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:593)
	at com.opensymphony.xwork2.inject.ContainerImpl.inject(ContainerImpl.java:537)
	at com.opensymphony.xwork2.config.impl.LocatableFactory.create(LocatableFactory.java:32)
	at com.opensymphony.xwork2.inject.ContainerBuilder$4.create(ContainerBuilder.java:130)
	at com.opensymphony.xwork2.inject.Scope$2$1.create(Scope.java:51)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:514)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:524)
	at com.opensymphony.xwork2.inject.ContainerImpl$9.call(ContainerImpl.java:555)
	at com.opensymphony.xwork2.inject.ContainerImpl.callInContext(ContainerImpl.java:584)
	at com.opensymphony.xwork2.inject.ContainerImpl.getInstance(ContainerImpl.java:553)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:232)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[ERROR][2017-11-22 17:40:11,240] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.error(CommonsLogger.java:38)
	Dispatcher initialization failed
java.lang.NullPointerException
	at com.opensymphony.xwork2.spring.SpringObjectFactory.getClassInstance(SpringObjectFactory.java:230)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.verifyResultType(XmlConfigurationProvider.java:592)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addResultTypes(XmlConfigurationProvider.java:563)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:519)
	at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadPackages(XmlConfigurationProvider.java:290)
	at org.apache.struts2.config.StrutsXmlConfigurationProvider.loadPackages(StrutsXmlConfigurationProvider.java:112)
	at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:239)
	at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)
	at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:429)
	at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:471)
	at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51)
	at weblogic.servlet.internal.FilterManager$FilterInitAction.run(FilterManager.java:332)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.FilterManager.loadFilter(FilterManager.java:98)
	at weblogic.servlet.internal.FilterWrapper.reloadFilter(FilterWrapper.java:71)
	at weblogic.servlet.internal.FilterWrapper.checkForReload(FilterWrapper.java:80)
	at weblogic.servlet.internal.FilterWrapper.getFilter(FilterWrapper.java:41)
	at weblogic.servlet.internal.FilterChainImpl.add(FilterChainImpl.java:35)
	at weblogic.servlet.internal.FilterManager.getFilterChain(FilterManager.java:244)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.doIt(WebAppServletContext.java:3681)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3650)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2268)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2174)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1446)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
[DEBUG][2017-11-22 17:40:20,952] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:40:20,957] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:40:21,238] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:40:21,286] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:40:21,289] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:40:21,316] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:40:21,320] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:40:21,321] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:40:21,329] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:40:21,330] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:40:21,330] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:40:21,330] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:40:21,331] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:40:21,333] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 17:42:31,364] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:42:31,376] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:42:32,299] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:42:32,382] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:42:32,385] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:42:32,444] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:42:32,456] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:42:32,464] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:42:32,483] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:42:32,483] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:42:32,484] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:42:32,484] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:42:32,485] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:42:32,488] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 17:49:39,793] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:49:39,810] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:49:40,097] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:49:40,138] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:49:40,141] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:49:40,171] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:49:40,174] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:49:40,175] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:49:40,184] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:49:40,185] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:49:40,186] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:49:40,186] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:49:40,187] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:49:40,190] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 17:52:26,937] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 17:52:26,950] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 17:52:27,306] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 17:52:27,353] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 17:52:27,357] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 17:52:27,385] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 17:52:27,388] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:52:27,390] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:52:27,397] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:52:27,398] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 17:52:27,399] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:52:27,399] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 17:52:27,400] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 17:52:27,403] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 18:21:01,692] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 18:21:01,709] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 18:21:01,997] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 18:21:02,036] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 18:21:02,040] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 18:21:02,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 18:21:02,067] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 18:21:02,068] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 18:21:02,074] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 18:21:02,074] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 18:21:02,075] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 18:21:02,075] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 18:21:02,076] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 18:21:02,078] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 20:12:46,652] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 20:12:46,702] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 20:12:47,746] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 20:12:48,416] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 20:12:48,420] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 20:12:48,635] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 20:12:48,645] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:12:48,653] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:12:48,680] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:12:48,680] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:12:48,681] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:12:48,681] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:12:48,681] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 20:12:48,684] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 20:25:33,865] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 20:25:33,878] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 20:25:34,463] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 20:25:34,764] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 20:25:34,769] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 20:25:35,041] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 20:25:35,049] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:25:35,052] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:25:35,064] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:25:35,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:25:35,065] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:25:35,066] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:25:35,067] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 20:25:35,070] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 20:45:56,879] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 20:45:56,889] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 20:45:57,481] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 20:45:57,678] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 20:45:57,681] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 20:45:57,858] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 20:45:57,867] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:45:57,868] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:45:57,883] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:45:57,884] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:45:57,884] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:45:57,888] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:45:57,888] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 20:45:57,891] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 20:49:55,807] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 20:49:55,819] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 20:49:56,399] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 20:49:56,602] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 20:49:56,606] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 20:49:56,786] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT * FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 20:49:56,790] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:49:56,790] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:49:56,798] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:49:56,799] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 20:49:56,800] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:49:56,800] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 20:49:56,800] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 20:49:56,802] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[DEBUG][2017-11-22 21:09:56,342] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 21:09:56,353] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 21:09:56,932] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 21:09:57,700] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 21:09:57,703] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 21:09:57,880] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME, AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE, SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 21:09:57,884] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:09:57,884] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:09:57,894] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 21:09:57,895] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 21:09:57,895] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:09:57,896] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:09:57,896] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 21:09:57,899] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-22 21:14:58,025] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:184)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:361)
	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)
	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)
	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)
	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)
	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)
	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)
	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:180)
	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:96)
	at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1139)
	at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:252)
	at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:182)
	at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:206)
	at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:254)
	at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:393)
	at javax.naming.InitialContext.lookup(InitialContext.java:392)
	at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154)
	at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)
	at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)
	at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)
	at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.java:201)
	at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.java:187)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 48 more
[ERROR][2017-11-22 21:18:24,292] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)
	at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)
	at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)
	at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)
	at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)
	at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:844)
	at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1253)
	at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:440)
	at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)
	at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:528)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1139)
	at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:252)
	at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:182)
	at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:206)
	at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:254)
	at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:393)
	at javax.naming.InitialContext.lookup(InitialContext.java:392)
	at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154)
	at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)
	at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)
	at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)
	at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.java:201)
	at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.java:187)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 50 more
[ERROR][2017-11-22 21:18:53,269] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)
	at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)
	at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)
	at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)
	at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)
	at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:844)
	at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1253)
	at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:440)
	at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)
	at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)
	at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:528)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1139)
	at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:252)
	at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:182)
	at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:206)
	at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:254)
	at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:393)
	at javax.naming.InitialContext.lookup(InitialContext.java:392)
	at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154)
	at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)
	at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)
	at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)
	at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.java:201)
	at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.java:187)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 50 more
[DEBUG][2017-11-22 21:20:49,076] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统启动!
[DEBUG][2017-11-22 21:20:49,085] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	系统主目录:[E:\workspace\eFiling\eFiling\]
[DEBUG][2017-11-22 21:20:53,517] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化FileNet配置...
[DEBUG][2017-11-22 21:20:53,693] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{}
[DEBUG][2017-11-22 21:20:53,697] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化邮件配置...
[DEBUG][2017-11-22 21:20:54,093] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{include=sql.properties, timer.properties, mail.properties, sql.query.paperFile=SELECT ID,NO,VISASERIALNO,LACKS,FILE_STATUS,APPLICANT,SALESNAME,COMCNAME, AGENT_NAME,BUSINESSNAME,VISASTATUS,VISACODE,VISANAME,BUSINESS_COMPANY_ID,PROPOSAL_NO,POLICY_NO,ENDOR_NO,COMCODE,BUSINESS_NO,PRODUCT_ID,TYPE,VISATYPE, SALES_TIME FROM (SELECT T.ID || ',' || V.VISASERIALNO ID,T.NO,V.VISASERIALNO,T.LACKS,T.FILE_STATUS AS FILE_STATUS,T.APPLICANT AS APPLICANT,PU3.USERNAME AS SALESNAME,PC.COMCNAME AS COMCNAME,T.AGENT_NAME AS AGENT_NAME,PU1.USERNAME AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE,V.VISANAME AS VISANAME, T.BUSINESS_COMPANY_ID AS BUSINESS_COMPANY_ID,T.PROPOSAL_NO AS PROPOSAL_NO,T.POLICY_NO AS POLICY_NO,T.ENDOR_NO AS ENDOR_NO,PC.COMCODE AS COMCODE,T.BUSINESS_NO AS BUSINESS_NO,T.PRODUCT_ID AS PRODUCT_ID,T.TYPE AS TYPE,'V' AS VISATYPE,T.SALES_TIME AS SALES_TIME FROM T_F_DOCUMENT T INNER JOIN VSMARK V ON T.NO = V.BUSINESSNO LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE WHERE V.VISASTATUS IN('04','05','06') AND TYPE <> 'V' UNION SELECT V.VISASERIALNO ID,V.VISASERIALNO AS NO,V.VISASERIALNO,'' AS LACKS,'' AS FILE_STATUS,'' AS APPLICANT,'' AS SALESNAME,'' AS COMCNAME,'' AS AGENT_NAME,'' AS BUSINESSNAME,V.VISASTATUS AS VISASTATUS,V.VISACODE AS VISACODE, V.VISANAME AS VISANAME, '' AS BUSINESS_COMPANY_ID,'' AS PROPOSAL_NO,'' AS POLICY_NO,'' AS ENDOR_NO,V.COMCODE AS COMCODE,'' AS BUSINESS_NO,'' AS PRODUCT_ID,'V' AS TYPE,'V' AS VISATYPE,V.USEDATE AS SALES_TIME FROM VSMARK V WHERE V.VISASTATUS IN('04','05','06') AND V.BUSINESSNO IS NULL), timer.reminder.template=timer.reminder, sql.queryClient.endor.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.debug.to=15922901803@163.com,Laura.Luo@libertymutual.com.cn,annie.zhang@libertymutual.com.cn, timer.document.complement.date=2014-04-27, mail.smtp.auth=false, mail.disabled=false, sql.queryVehicle.policy=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCITEMCAR T LEFT JOIN PRPCITEMCAREXT C ON C.POLICYNO = T.POLICYNO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, mail.password=, timer.document.share.sql=select no from t_f_document t where id in (select document_id from t_f_document_file a where a.status = ? and a.paper_type is not null and a.paper_code is not null and a.due_time is not null and exists (select * from t_f_document_file b where b.status = ? and (b.file_type_id = a.file_type_id or b.file_type_code = a.file_type_code or (a.file_type_id in ('200', '201') and b.file_type_id in ('200', '201'))) and b.paper_type = a.paper_type and b.paper_code = a.paper_code and b.due_time is not null)) and t.status = ? , timer.reminder.days=-10, timer.reminder.title=投保资料差缺到期提醒, sql.queryCarOwner.proposal=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPTCAROWNER T INNER JOIN PRPTITEMCAR C ON C.PROPOSALNO = T.PROPOSALNO WHERE T.PROPOSALNO = ?, scan.read.class.code.motor=05, sql.queryCarOwner.policy=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCCAROWNER T INNER JOIN PRPCITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.encoding=UTF-8, sql.check.commit=SELECT DISTINCT NO FROM ( SELECT T.ID, T.NO, T.FILE_STATUS, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), ?) AS CTRL_TYPE FROM T_F_DOCUMENT T INNER JOIN T_F_DOCUMENT_FILE TT ON T.ID = TT.DOCUMENT_ID INNER JOIN T_F_FILE_TYPE TF ON TT.FILE_TYPE_ID = TF.ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? AND TF.SIGNED <> ? AND T.BUSINESS_NO = ?) A WHERE DAYS > 0 AND ((CTRL_TYPE = ?) OR (FILE_STATUS = ? AND CTRL_TYPE = ?)), timer.file.lending.sql=SELECT T.BORROWER_EMAIL AS USER_CODE, T.BORROWER_NAME, T.BORROWER_EMAIL, DOC.NO, F.NO AS FILE_NO, (P.ID || '.' || P.NAME) AS TYPE_NAME, TO_CHAR(T.INSERT_TIME, 'YYYY-MM-DD'), TO_CHAR(T.EXPECTED_RETURN_DATE, 'YYYY-MM-DD') FROM T_F_FILE_LENDING T INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = T.ID INNER JOIN PRPDUSER U ON U.USERCODE = T.USER_ID INNER JOIN T_F_DOCUMENT_FILE DOF ON DOF.ID = D.DOCUMENT_FILE_ID INNER JOIN T_F_DOCUMENT DOC ON DOC.ID = DOF.DOCUMENT_ID INNER JOIN T_F_FILE F ON F.ID = DOF.FILE_ID INNER JOIN T_F_FILE_TYPE P ON P.ID = F.TYPE_ID WHERE D.STATUS IN (?) AND TRUNC(SYSDATE - T.EXPECTED_RETURN_DATE) = ?, sql.queryVehicle.proposal=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPTITEMCAR T LEFT JOIN PRPTITEMCAREXT C ON C.PROPOSALNO = T.PROPOSALNO AND C.ITEMNO = T.ITEMNO WHERE T.PROPOSALNO = ?, sql.file.core.audit=SELECT T.ID , T.NO , T.FILE_APPROVE_STATUS, T.APPLICANT  AS APPLICANT,   PU3.USERNAME AS SALESNAME,   PC.COMCNAME  AS COMCNAME,    T.AGENT_NAME AS AGENT_NAME,  PU1.USERNAME AS BUSINESSNAME,PU2.USERNAME AS USERNAME, (SELECT COUNT(*) FROM T_F_DOCUMENT_FILE TF	INNER JOIN T_F_FILE F ON TF.FILE_ID = F.ID    WHERE T.ID = TF.DOCUMENT_ID	AND F.FILE_APPROVE_STATUS IS NOT NULL AND (TF.STATUS = ? AND F.FILE_APPROVE_STATUS = ?)) AS UNAUDITED_COUNT FROM T_F_DOCUMENT T  LEFT JOIN PRPDCOMPANY PC ON T.BUSINESS_DEPT_ID = PC.COMCODE  LEFT JOIN PRPDUSER PU1 ON T.BUSINESS_USER_ID = PU1.USERCODE  LEFT JOIN PRPDUSER PU2 ON T.USER_ID = PU2.USERCODE           LEFT JOIN PRPDUSER PU3 ON T.SALES_ID = PU3.USERCODE			WHERE EXISTS (										SELECT 1 FROM T_F_DOCUMENT_FILE TF							INNER JOIN T_F_FILE TT ON TF.FILE_ID = TT.ID    WHERE T.ID = TF.DOCUMENT_ID	AND TT.FILE_APPROVE_STATUS IS NOT NULL AND ((TF.STATUS = ? AND TT.FILE_APPROVE_STATUS = ?) OR TT.FILE_APPROVE_STATUS IN (?, ?)) ), cq.import.dir=, timer.file.lending.days=0, mail.transport.protocol=smtp, mail.debug=true, sql.report.lack=SELECT ID, NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), DEPT_NAME, USER_NAME, BUSINESS_NO, APPLICANT, SALES_TIME, EFFECTIVE_TIME, LACKS, DAYS FROM ( SELECT T.*, (CASE WHEN XDAYS > 0 AND ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) THEN XDAYS ELSE 0 END) AS DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (D.COMCNAME) AS DEPT_NAME, (U.USERNAME) AS USER_NAME, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS XDAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN (?, ?) AND T.STATUS = ? ) T ) T, sql.queryClient.endor=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCPINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, timer.file.lending.template=timer.fileLending, mail.from=eFiling UAT<eFilingSystem@libertymutual.com.cn>, timer.file.lending.title=借阅档案到期提醒, timer.reminder.sql=SELECT BUSINESS_USER_ID, USER_NAME, USER_MAIL, NO, BUSINESS_NO, PRODUCT_NAME, NVL(LICENSE_NO, ENGINE_NO), APPLICANT, TO_CHAR(SALES_TIME, 'YYYY-MM-DD'), TO_CHAR(EFFECTIVE_TIME, 'YYYY-MM-DD'), LACKS, DAYS FROM ( SELECT T.*, P.NAME AS PRODUCT_NAME, (U.USERENAME || ' - ' || U.USERNAME) AS USER_NAME, U.EMAIL AS USER_MAIL, (CEIL(SYSDATE - T.SALES_TIME) - NVL(NVL(NVL(NVL(L.DAYS, L1.DAYS), L2.DAYS), L3.DAYS), ?)) AS DAYS, NVL(NVL(NVL(NVL(L.CTRL_TYPE, L1.CTRL_TYPE), L2.CTRL_TYPE), L3.CTRL_TYPE), '11') AS CTRL_TYPE FROM T_F_DOCUMENT T LEFT JOIN PRPDCOMPANY D ON D.COMCODE = T.BUSINESS_DEPT_ID LEFT JOIN PRPDUSER U ON U.USERCODE = T.BUSINESS_USER_ID LEFT JOIN T_F_PRODUCT P ON P.ID = T.PRODUCT_ID LEFT JOIN T_F_FILE_DEADLINE L ON L.STATUS = '1' AND L.PRODUCT_ID = T.PRODUCT_ID AND L.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L1 ON L1.STATUS = '1' AND L1.PRODUCT_ID IS NULL AND L1.FILE_DEPT_ID = T.BUSINESS_DEPT_ID LEFT JOIN T_F_FILE_DEADLINE L2 ON L2.STATUS = '1' AND L2.PRODUCT_ID = T.PRODUCT_ID AND L2.FILE_DEPT_ID IS NULL AND L2.COMPANY_ID = T.BUSINESS_COMPANY_ID LEFT JOIN T_F_FILE_DEADLINE L3 ON L3.STATUS = '1' AND L3.PRODUCT_ID IS NULL AND L3.FILE_DEPT_ID IS NULL AND L3.COMPANY_ID = T.BUSINESS_COMPANY_ID WHERE T.FILE_STATUS IN ('00', '01') AND T.STATUS = '1' ) T WHERE ((CTRL_TYPE = '11') OR (FILE_STATUS = '00' AND CTRL_TYPE = '00')) AND DAYS >= ? ORDER BY BUSINESS_USER_ID, DAYS, PROPOSAL_NO, POLICY_NO, NO, ???#=é?????????????????,?¤???????é????¨é????・??????é??, sql.queryClient.proposal.coverNote=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCCUSTOMER T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?, mail.smtp.host=10.132.1.168, sql.queryClient.proposal=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPTINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.PROPOSALNO = ? AND T.INSUREDFLAG = ?, sql.fileLending.query=SELECT T.ID, T.NO, T.TYPE, FD.BORROWER_NAME, FD.INSERT_TIME, FD.EXPECTED_RETURN_DATE, T.FILE_STATUS, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE1, TRUNC(SYSDATE - FD.EXPECTED_RETURN_DATE) AS RETURN_DATE2, U.USERNAME, T.LENT, FD.ID AS LENDING_ID FROM T_F_DOCUMENT T LEFT JOIN ( SELECT DISTINCT F.DOCUMENT_ID, L.* FROM T_F_FILE_LENDING L INNER JOIN T_F_FILE_LENDING_DETAIL D ON D.LENDING_ID = L.ID INNER JOIN T_F_DOCUMENT_FILE F ON F.FILE_ID = D.FILE_ID WHERE L.STATUS IN ('1', '2') ) FD ON FD.DOCUMENT_ID = T.ID LEFT JOIN PRPDUSER U ON U.USERCODE = FD.USER_ID, sql.queryCarOwner.endor=SELECT DECODE(C.CARINSUREDRELATION, '3', '1', '2') AS INSUREDTYPE, NULL AS CAROWNERCODE, T.IDENTIFYTYPE, T.CERTIFICATENO, '3' AS CAROWNERFLAG, NULL AS INVALIDDATE FROM PRPCPCAROWNER T INNER JOIN PRPCPITEMCAR C ON C.POLICYNO = T.POLICYNO WHERE T.POLICYNO = ?, mail.user=eFilingSystemTest, sql.queryVehicle.endor=SELECT T.USENATURECODE, C.VEHICLECATEGORYCODE, T.ENROLLDATE, T.VINNO, T.ENGINENO FROM PRPCPITEMCAR T LEFT JOIN PRPPITEMCAREXT C ON C.ENDORSENO = T.ENDORSENO AND C.ITEMNO = T.ITEMNO WHERE T.POLICYNO = ?, timer.document.complement.sql=SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE EXISTS (SELECT ID FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.PROPOSAL_NO = C.PROPOSALNO) UNION ALL SELECT POLICYNO, ? AS TYPE FROM PRPCMAIN C WHERE C.OPERATEDATE >= ? AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.PROPOSAL_NO = C.PROPOSALNO AND D.TYPE IN (?, ?)) UNION ALL SELECT POLICYNO, ? FROM PRPCMAINCOVERNOTE C WHERE ( (OPERATEDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.POLICY_NO = C.POLICYNO) ) OR (OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT POLICY_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.POLICY_NO = C.POLICYNO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEAD C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT ENDORSENO, ? FROM PRPPHEADCOVERNOTE C WHERE ( (INPUTDATE >= ? AND UNDERWRITEFLAG IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.STATUS = ? AND D.NO = C.ENDORSENO)) OR (INPUTDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT ENDOR_NO FROM T_F_DOCUMENT D WHERE D.TYPE = ? AND D.NO = C.ENDORSENO) ) ) UNION ALL SELECT PROPOSALNO, ? FROM PRPTMAIN C WHERE OPERATEDATE >= ? AND UNDERWRITEFLAG NOT IN ('1', '3') AND NOT EXISTS (SELECT PROPOSAL_NO FROM T_F_DOCUMENT D WHERE D.TYPE IN (?, ?) AND D.PROPOSAL_NO = C.PROPOSALNO) , sql.queryClient.policy=SELECT T.INSUREDTYPE, T.INSUREDCODE, T.IDENTIFYTYPE, T.IDENTIFYNUMBER, T.INSUREDFLAG, NVL(C.IDINVALIDDATE, U.ORGINVALIDDATE) FROM PRPCINSURED T LEFT JOIN PRPDCUSTOMERIDV C ON C.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '1' LEFT JOIN PRPDCUSTOMERUNIT U ON U.CUSTOMERCODE = T.INSUREDCODE AND T.INSUREDTYPE = '2' WHERE T.POLICYNO = ? AND T.INSUREDFLAG = ?}
[DEBUG][2017-11-22 21:20:54,107] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:20:54,117] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:20:54,142] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 21:20:54,143] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:125)
	切换邮件配置:{mail.password=, mail.user=ARAP System, mail.smtp.host=10.132.1.168}
[DEBUG][2017-11-22 21:20:54,143] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:151)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:20:54,144] com.sinosoft.efiling.mail.MailHelper.setProperties(MailHelper.java:161)
	from=eFiling UAT <eFilingSystem@libertymutual.com.cn>
[DEBUG][2017-11-22 21:20:54,145] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.debug(CommonsLogger.java:68)
	初始化定时器配置...
[INFO][2017-11-22 21:20:54,148] com.opensymphony.xwork2.util.logging.commons.CommonsLogger.info(CommonsLogger.java:42)
	配置timer.tasks=null
[ERROR][2017-11-22 21:28:07,980] org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:319)
	Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:481)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)
	at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:181)
	at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1863)
	at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3126)
	at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1512)
	at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:486)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.ScopedModuleDriver.start(ScopedModuleDriver.java:200)
	at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:247)
	at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:425)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:119)
	at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)
	at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:1267)
	at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:41)
	at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:409)
	at weblogic.application.internal.SingleModuleDeployment.activate(SingleModuleDeployment.java:43)
	at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:161)
	at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activate(BasicDeployment.java:184)
	at weblogic.deploy.internal.targetserver.BasicDeployment.activateFromServerLifecycle(BasicDeployment.java:361)
	at weblogic.management.deploy.internal.DeploymentAdapter$1.doActivate(DeploymentAdapter.java:51)
	at weblogic.management.deploy.internal.DeploymentAdapter.activate(DeploymentAdapter.java:200)
	at weblogic.management.deploy.internal.AppTransition$2.transitionApp(AppTransition.java:30)
	at weblogic.management.deploy.internal.ConfiguredDeployments.transitionApps(ConfiguredDeployments.java:240)
	at weblogic.management.deploy.internal.ConfiguredDeployments.activate(ConfiguredDeployments.java:169)
	at weblogic.management.deploy.internal.ConfiguredDeployments.deploy(ConfiguredDeployments.java:123)
	at weblogic.management.deploy.internal.DeploymentServerService.resume(DeploymentServerService.java:180)
	at weblogic.management.deploy.internal.DeploymentServerService.start(DeploymentServerService.java:96)
	at weblogic.t3.srvr.SubsystemRequest.run(SubsystemRequest.java:64)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)
Caused by: javax.naming.NameNotFoundException: Unable to resolve 'eFilingDataSource'. Resolved ''; remaining name 'eFilingDataSource'
	at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1139)
	at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:252)
	at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:182)
	at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:206)
	at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:254)
	at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:393)
	at javax.naming.InitialContext.lookup(InitialContext.java:392)
	at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:154)
	at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152)
	at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)
	at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)
	at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)
	at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.java:201)
	at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.java:187)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)
	... 48 more
